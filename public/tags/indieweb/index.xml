<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>indiewebonRandom Geekery</title>
    <link>https://randomgeekery.org/tags/indieweb/</link>
    <description>
      Recent contentinindieweb on Random Geekery
    </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
      
      <lastBuildDate>Thu, 10 Nov 2022 18:40:58 -0800</lastBuildDate><atom:link href="https://randomgeekery.org/tags/indieweb/index.xml" rel="self" type="application/rss+xml" /><item>
  <title>Post: Pulling Twitter From POSSE Links</title>
  <link>https://randomgeekery.org/post/2022/11/pulling-twitter-from-posse-links/</link>
  <pubDate>Thu, 10 Nov 2022 18:40:58 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2022/11/pulling-twitter-from-posse-links/</guid>
  <description>Lots of Elon Musk madness going on at Twitter. From a Platformer summary of the last day or two.
…as Platformer was first to report, its chief privacy officer, Damien Kieran; its chief information security officer; Lea Kissner; and its chief compliance officer, Marianne Fogarty, had all resigned…So did John Debay, director of software engineering…much of the security governance risks and compliance team has left…
This is on top of all the folks Musk fired or who have resigned in the week since he took over.</description>
   <category>post</category> 
   <category>note</category> 
   <category>indieweb</category>  <category>posse</category>  <category>site</category> 
  <content:encoded><![CDATA[<p>Lots of Elon Musk madness going on at Twitter. From a <a href="https://www.platformer.news/p/inside-the-twitter-meltdown">Platformer summary</a> of the last day or two.</p>
<blockquote>
<p>…as Platformer was first to report, its chief privacy officer, Damien Kieran;
its chief information security officer; Lea Kissner; and its chief compliance
officer, Marianne Fogarty, had all resigned…So did John Debay, director of
software engineering…much of the security governance risks and compliance
team has left…</p>
</blockquote>
<p>This is on top of all the folks Musk fired or who have resigned in the week since he took over. Encouraging folks to use Twitter seems unwise at this point.</p>
<p>Nothing profound here. Just means I&rsquo;m not explicitly syndicating to or tracking WebMentions from there.</p>
]]></content:encoded>
</item>
<item>
  <title>Post: Slowly pulling in tools for site flow</title>
  <link>https://randomgeekery.org/post/2022/01/slowly-pulling-in-tools-for-site-flow/</link>
  <pubDate>Sun, 16 Jan 2022 20:30:00 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2022/01/slowly-pulling-in-tools-for-site-flow/</guid>
  <description>Made a toot with Masto. Kinda need that for content syndication.
The Mastodon Twitter Crossposter works great, but waiting for the announcement toot to show up as a tweet was a tedious manual step that I hope to discard. So I figured out how to make a tweet with twitter-api-v2.
Those are the pieces I need to get POSSE syndication working in this card/Eleventy iteration of the site.
Now I just need to staple those pieces together, grab a sharpie, and label it “workflow.</description>
   <category>post</category> 
   <category>note</category> 
   <category>node-js</category>  <category>indieweb</category>  <category>posse</category>  <category>site</category> 
  <content:encoded><![CDATA[<p>Made a <a href="https://hackers.town/@randomgeek/107630284879354154">toot</a> with <a href="https://www.npmjs.com/package/masto">Masto</a>. Kinda need that for content syndication.</p>
<p><img src="/post/2022/01/attachments/img/2022/toot.png" title="Here&#39;s my toot" alt="Here&rsquo;s my toot"/></p>
<p>The <a href="https://crossposter.masto.donte.com.br/">Mastodon Twitter Crossposter</a> works great, but waiting for the announcement toot to show up as a tweet was a tedious manual step that I hope to discard. So I figured out how to make a tweet with <a href="https://www.npmjs.com/package/twitter-api-v2">twitter-api-v2</a>.</p>
<p>Those are the pieces I need to get <a href="https://indieweb.org/POSSE">POSSE</a> syndication working in this <a href="/card/eleventy/">card/Eleventy</a> iteration of the site.</p>
<p>Now I just need to staple those pieces together, grab a sharpie, and label it &ldquo;workflow.&rdquo;</p>
]]></content:encoded>
</item>
<item>
  <title>Post: yay fresh webmentions again</title>
  <link>https://randomgeekery.org/post/2021/02/yay-fresh-webmentions-again/</link>
  <pubDate>Tue, 23 Feb 2021 21:39:41 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2021/02/yay-fresh-webmentions-again/</guid>
  <description>Finally reconnected the site flow bits that grab and file fresh Webmentions. Probably going to tweak rendering of the Bridgy bits that feed reactions from bigger social networks. It’s that or add threading here for conversation that happens there. No thank you.
Anyways yay!</description>
   <category>post</category> 
   <category>note</category> 
   <category>indieweb</category>  <category>site</category>  <category>i-fixed-it</category> 
  <content:encoded><![CDATA[<p>Finally reconnected the site flow bits that grab and file fresh <a href="https://webmention.io">Webmentions</a>. Probably going to tweak rendering of the <a href="https://brid.gy/">Bridgy</a> bits that feed reactions from bigger social networks. It&rsquo;s that or add threading <em>here</em> for conversation that happens <em>there</em>. No thank you.</p>
<p>Anyways yay!</p>
]]></content:encoded>
</item>
<item>
  <title>Post: IndieWeb bookmarking reference</title>
  <link>https://randomgeekery.org/post/2020/12/bookmark-indieweb/</link>
  <pubDate>Fri, 04 Dec 2020 00:00:00 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/12/bookmark-indieweb/</guid>
  <description>Not formally part of card/microformats, but I need it for ideas on how to format my bookmarks.
bookmark — IndieWeb</description>
   <category>post</category> 
   <category>bookmark</category> 
   <category>indieweb</category> 
  <content:encoded><![CDATA[<p>Not formally part of <a href="/card/microformats/">card/microformats</a>, but I need it for ideas on how to format my bookmarks.</p>
<p><a href="https://indieweb.org/bookmark">bookmark — IndieWeb</a></p>
]]></content:encoded>
</item>
<item>
  <title>Post: Using the Webmention.io API</title>
  <link>https://randomgeekery.org/post/2020/11/using-the-webmentionio-api/</link>
  <pubDate>Tue, 10 Nov 2020 00:00:00 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/11/using-the-webmentionio-api/</guid>
  <description>A spiderweb! For inbox/Webmention! Get it? Okay, yeah. Sorry.
So I hosed a local copy of my mentions feed the other month. What’s my “mentions feed,” I hear you wondering?
Whenever somebody shares a reaction to something here — like, reshare, reply, mention — that reaction gets sent to Webmention.io. There are more moving parts than that, of course. Bridgy aggregates reactions to my announcement toots and tweets and sends those to Webmention.</description>
   <category>post</category> 
   <category>post</category> 
   <category>python</category>  <category>indieweb</category>  <category>fixingmysite</category>  <category>site</category>  <category>tools</category> 
  <content:encoded><![CDATA[<h2>Fetching my IndieWeb mentions with HTTPie and Requests</h2><p><img src="/post/2020/11/../../../attachments/img/2020/cover-2020-11-10.jpg" alt="attachments/img/2020/cover-2020-11-10.jpg"/>
A spiderweb! For <em>inbox/Webmention</em>! Get it? Okay, yeah. Sorry.</p>
<p>So I hosed a local copy of my mentions feed the other month.  What’s my &ldquo;mentions feed,&rdquo; I hear you wondering?</p>
<p>Whenever somebody shares a reaction to something here — like, reshare, reply, mention — that reaction gets sent to <a href="https://webmention.io">Webmention.io</a>.  There are more moving parts than that, of course.  <a href="https://brid.gy">Bridgy</a> aggregates reactions to my announcement toots and tweets and sends those to Webmention.  It shows in my mentions feed as a reaction to site content when someone reacts to a relevant tweet.</p>
<p><em>Sometimes</em> folks even post mentions, replies, and reactions directly to the Webmention endpoint.  Mostly it’s just social media reactions, though.</p>
<p>The Webmention.io <a href="https://github.com/aaronpk/webmention.io#api">API</a> lets me gather all of these reactions.</p>
<p>Let’s acquaint ourselves with the important parts of this API.  You’ll need your API token, which can be found in the Webmention <a href="https://webmention.io/settings">settings</a> once you sign up.</p>
<h2 id="reading-the-feed-with-httpie">Reading the feed with HTTPie</h2>
<p>I’ll use <a href="https://httpie.io">HTTPie</a> for my little exploration.  I like the way it works.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">pip install httpie
</span></span></code></pre></div><h3 id="getting-recent-reactions">Getting recent reactions</h3>
<p>We mainly care about the mentions endpoint.  Hand it your domain and API token, and it will send you the 20 most recent responses for your site.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span>
</span></span></code></pre></div><p>HTTPie’s double-equals <code>==</code> syntax means &ldquo;make a query string,&rdquo; so I end up with something like this::</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">https://webmention.io/api/mentions.jf2?domain=randomgeekery.org&amp;token=xxxxx
</span></span></code></pre></div><p>When <code>http</code> fetches that URL, I get back a <a href="https://www.w3.org/TR/jf2/">JF2</a> feed that looks something like this.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Jumpei KAWAMI&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;photo&#34;</span><span class="p">:</span> <span class="s2">&#34;https://webmention.io/avatar/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/junkw&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;I wrote a note:\n\nI added this note from org mode…&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;published&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-10-25T23:32:25+00:00&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;repost-of&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/note/2020/10/i-added-this-note-from-org-mode/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;entry&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/junkw/status/1320508544601509889&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-id&#34;</span><span class="p">:</span> <span class="mi">887739</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-private&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-property&#34;</span><span class="p">:</span> <span class="s2">&#34;repost-of&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-received&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-10-26T04:07:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-source&#34;</span><span class="p">:</span> <span class="s2">&#34;https://brid-gy.appspot.com/repost/twitter/brianwisti/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-target&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/note/2020/10/i-added-this-note-from-org-mode/&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="err">⋮</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Webmentions&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;feed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>What’s JF2?  It’s obviously JSON.  Maybe something to do with <a href="https://jsonfeed.org/">JSON Feed</a>?  Similar, but no.  JF2 is a JSON format for <a href="/card/microformats/">microformats2</a>.  The mnemonic I’ve been trying to drill into my head is &ldquo;JSON (micro)Formats 2.&rdquo;</p>
<p>It’s not a very good mnemonic.</p>
<p>Each entry summarizes the reaction, including which of my posts they were reacting to.  That’s kind of important.  Most recently, Twitter user <a href="https://twitter.com/junkw">@junkw</a> retweeted my announcement about <a href="/post/2020/10/i-added-this-note-from-org-mode/">adding a note from Org mode</a>.</p>
<blockquote>
<p>[!NOTE]
There’s also a <code>.json</code> endpoint for every feed that presents a different structure for mentions.  I prefer it, because it contains fewer <code>wm-*</code> fields.  But the documentation uses JF2, so that’s what I’ll do.</p>
</blockquote>
<h3 id="checking-for-new-reactions">Checking for new reactions</h3>
<p>Maybe I’m checking again later and only want to see the <em>new</em> reactions.  I request mentions received since the value of the <code>wm-received</code> field in the last entry I have.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">since</span><span class="o">==</span><span class="s2">&#34;2020-10-26T04:07:20Z&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Webmentions&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;feed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Well, yeah.  That makes sense.  I don’t get the kind of traffic where you’d expect fresh reactions every time you check.</p>
<h3 id="fetching-the-oldest-reactions-first">Fetching the oldest reactions first</h3>
<p>As I mentioned at the start, my site is a little broken.  I need to rebuild the full list of reactions so my <a href="/card/hugo/">card/Hugo</a> site can work with a complete record. To do that, I should probably start from the oldest mentions and work my way forward.</p>
<p>Rather than the default <code>sort-dir</code> of <code>down</code>, I specify <code>up</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  sort-dir<span class="o">==</span>up
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Steve Scaffidi&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;photo&#34;</span><span class="p">:</span> <span class="s2">&#34;https://webmention.io/avatar/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/hercynium&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;html&#34;</span><span class="p">:</span> <span class="s2">&#34;This is where I wish Perl5 had something like Python&#39;s AST class hierarchy…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;This is where I wish Perl5 had something like Python&#39;s AST class hierarchy…&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;in-reply-to&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/2020/02/17/python-invoke/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;published&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-02-18T03:11:58+00:00&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;entry&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/hercynium/status/1229604443651526656&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-id&#34;</span><span class="p">:</span> <span class="mi">757935</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-private&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-property&#34;</span><span class="p">:</span> <span class="s2">&#34;in-reply-to&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-received&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-02-18T22:32:20Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-source&#34;</span><span class="p">:</span> <span class="s2">&#34;https://brid-gy.appspot.com/comment/twitter/brianwisti/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-target&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/2020/02/17/python-invoke/&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Webmentions&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;feed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Aww, my first site reply. From <a href="https://twitter.com/hercynium">@hercynium</a>.</p>
<p>I only get 20 results by default, though.  Here.  Let’s make <a href="https://stedolan.github.io/jq/">jq</a> show us. Here’s a default page.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> sort-dir<span class="o">==</span>up <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> jq <span class="s1">&#39;.children | length&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">20
</span></span></code></pre></div><h3 id="handling-result-pagination">Handling result pagination</h3>
<p>I can specify how many responses I want in each response with the <code>per-page</code> parameter.  With <code>per-page</code> set to 100, I get a hundred entries.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> per-page<span class="o">==</span><span class="m">100</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> jq <span class="s1">&#39;.children | length&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">100
</span></span></code></pre></div><p>Of course, if there aren’t a hundred entries to fill the page, I only get what’s available.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> <span class="nv">since</span><span class="o">==</span><span class="s2">&#34;2020-10-26T04:07:20Z&#34;</span> per-page<span class="o">=</span><span class="m">100</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="p">|</span> jq <span class="s1">&#39;.children | length&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">0
</span></span></code></pre></div><p>The <code>page</code> parameter — which starts at zero — lets me step through the feed in batches.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">domain</span><span class="o">==</span>randomgeekery.org <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">token</span><span class="o">==</span><span class="nv">$WEBMENTION_KEY</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  sort-dir<span class="o">==</span>up <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">page</span><span class="o">==</span><span class="m">1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;brian wisti&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;photo&#34;</span><span class="p">:</span> <span class="s2">&#34;https://webmention.io/avatar/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/brianwisti&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;html&#34;</span><span class="p">:</span> <span class="s2">&#34;…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;text&#34;</span><span class="p">:</span> <span class="s2">&#34;…&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;in-reply-to&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/2020/01/19/restructuredtext-basics-for-blogging/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;published&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-10T06:24:45+00:00&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;entry&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://twitter.com/brianwisti/status/1237263101482823681&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-id&#34;</span><span class="p">:</span> <span class="mi">766993</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-private&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-property&#34;</span><span class="p">:</span> <span class="s2">&#34;in-reply-to&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-received&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-10T06:38:55Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-source&#34;</span><span class="p">:</span> <span class="s2">&#34;https://brid-gy.appspot.com/comment/twitter/brianwisti/…&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-target&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org/2020/01/19/restructuredtext-basics-for-blogging/&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="err">⋮</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Webmentions&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;feed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Right.  That’s Bridgy catching a Twitter thread.  At least I can see the full conversation from my site.  Or I will once I’m done fixing everything.</p>
<h3 id="bonus-checking-for-reactions-to-a-specific-post">Bonus: checking for reactions to a specific post</h3>
<p>I could get a JF2 feed for specific URLs on my site if I was so inclined.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">http get https://webmention.io/api/mentions.jf2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  <span class="nv">target</span><span class="o">==</span>https://randomgeekery.org
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;children&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;photo&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;card&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;mention-of&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;published&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;entry&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://kevq.uk/blogroll/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-id&#34;</span><span class="p">:</span> <span class="mi">796241</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-private&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-property&#34;</span><span class="p">:</span> <span class="s2">&#34;mention-of&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-received&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-05-14T11:25:47Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-source&#34;</span><span class="p">:</span> <span class="s2">&#34;https://kevq.uk/blogroll/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;wm-target&#34;</span><span class="p">:</span> <span class="s2">&#34;https://randomgeekery.org&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Webmentions&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;feed&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>I deal with my site reactions in bulk so they can be incorporated in the Hugo build.  This could be handy for JavaScript-driven update on reactions since the site was last built and pushed, though.</p>
<h2 id="rebuilding-the-local-mentions-file">Rebuilding the local mentions file</h2>
<p>Now I want to take what I learned about the API to build a local copy of my site’s mention history.  Let’s step away from HTTPie and the command line before I try something dangerous.</p>
<p>The <a href="https://requests.readthedocs.io/">Requests</a> library for <a href="/card/python/">card/Python</a> can help me build one list of Webmentions.</p>
<div class="highlight" title="rebuild-mentions-feed.py"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">rebuild_full_feed</span><span class="p">(</span><span class="n">domain</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&#34;https://webmention.io/api/mentions.jf2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">page_size</span> <span class="o">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="n">all_entries</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">page_index</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;domain&#34;</span><span class="p">:</span> <span class="n">domain</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;token&#34;</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;page&#34;</span><span class="p">:</span> <span class="n">page_index</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;per-page&#34;</span><span class="p">:</span> <span class="n">page_size</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;sort-dir&#34;</span><span class="p">:</span> <span class="s2">&#34;up&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">this_page</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">entries</span> <span class="o">=</span> <span class="n">this_page</span><span class="p">[</span><span class="s2">&#34;children&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">all_entries</span> <span class="o">+=</span> <span class="n">entries</span>
</span></span><span class="line"><span class="cl">        <span class="n">page_index</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">entry_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Added </span><span class="si">{</span><span class="n">entry_count</span><span class="si">}</span><span class="s2"> entries&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Be a polite Internet citizen</span>
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Stop when we&#39;re done</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">entry_count</span> <span class="o">&lt;</span> <span class="n">page_size</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Reached end of feed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">break</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">target_file</span><span class="p">,</span> <span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">all_entries</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Wrote </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_entries</span><span class="p">)</span><span class="si">}</span><span class="s2"> entries to </span><span class="si">{</span><span class="n">target_file</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">domain</span> <span class="o">=</span> <span class="s2">&#34;randomgeekery.org&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">token</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&#34;WEBMENTION_KEY&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">target_file</span> <span class="o">=</span> <span class="s2">&#34;mentions.jf2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">rebuild_full_feed</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">target_file</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> python rebuild-mentions-feed.py
</span></span><span class="line"><span class="cl"><span class="go">Added 100 entries
</span></span></span><span class="line"><span class="cl"><span class="go">Added 100 entries
</span></span></span><span class="line"><span class="cl"><span class="go">Added 100 entries
</span></span></span><span class="line"><span class="cl"><span class="go">Added 83 entries
</span></span></span><span class="line"><span class="cl"><span class="go">Reached end of feed
</span></span></span><span class="line"><span class="cl"><span class="go">Wrote 383 entries to mentions.jf2
</span></span></span></code></pre></div><p>This gives me the first requirement for rebuilding my mentions: an intact historical record, up to the current moment.</p>
<h2 id="intermission">Intermission</h2>
<p>Time to pause.</p>
<p>Why?  Why not just use this JSON as a <a href="https://gohugo.io/templates/data-templates/">Hugo data file</a> — let it filter through finding relevant mentions for each post?</p>
<p>Short answer: that’s how I got myself into this mess in the first place. I want to take a more careful approach this time.</p>
<p>I have some ideas.  Spoiler alert: <a href="https://sqlite-utils.readthedocs.io/">sqlite-utils</a> is involved. <a href="/post/2020/05/querying-hugo-content-with-python/">Again</a>.</p>
<p>But first push this and get ready for bed so I’m at least a little rested for work.</p>
]]></content:encoded>
</item>
<item>
  <title>Post: SSG is for putterers</title>
  <link>https://randomgeekery.org/post/2020/09/ssg-is-for-putterers/</link>
  <pubDate>Sun, 20 Sep 2020 10:29:56 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/09/ssg-is-for-putterers/</guid>
  <description>Kev Quirk on static site generators — WordPress Creator Vs The Jamstack (2020-05-20)
SSGs are really cool and super fun to play with – I’m really enjoying it on my side project; but I wish a lot of devs would stop touting about how amazingly simple they are, as it’s just not the case.
I often see “such and such card/Static Site Generator is simple!” tweets, and wonder what exactly they’re comparing it to.</description>
   <category>post</category> 
   <category>note</category> 
   <category>ssg</category>  <category>blogging</category>  <category>puttering</category>  <category>indieweb</category> 
  <content:encoded><![CDATA[<p><strong>Kev Quirk on static site generators</strong> — <a href="https://kevq.uk/wordpress-creator-vs-the-jamstack/">WordPress Creator Vs The Jamstack</a> (2020-05-20)</p>
<blockquote>
<p>SSGs are really cool and super fun to play with – I’m really enjoying it on
my side project; but I wish a lot of devs would stop touting about how
amazingly simple they are, as it’s just not the case.</p>
</blockquote>
<p>I often see &ldquo;such and such <a href="/card/static-site-generator/">card/Static Site Generator</a> is simple!&rdquo; tweets, and wonder what exactly they&rsquo;re comparing it to. DIY dentistry perhaps?</p>
<p>As much as I love puttering with static site generators, &ldquo;puttering&rdquo; is the main charm of an SSG. The hooks to customize are right there on the surface. Heck <a href="/card/eleventy/">Eleventy</a> is nothing <em>but</em> hooks. And having everything in a git repository is just a developer-focused version of a smart backup plan.</p>
<p>For the <a href="https://jamstack.org/">Jamstack</a> side of things, I&rsquo;m not sure I see the advantage of relying on a load of external services over oh say for example having a database and an internal comment system. You know, like Wordpress. Something I&rsquo;ve been thinking about a lot in relation to my own site leaning so much on <a href="https://webmention.io/">webmention.io</a>.</p>
]]></content:encoded>
</item>
<item>
  <title>Post: Alias Templates in Hugo</title>
  <link>https://randomgeekery.org/post/2020/05/alias-templates-in-hugo/</link>
  <pubDate>Wed, 20 May 2020 15:15:00 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/05/alias-templates-in-hugo/</guid>
  <description>It’s not a redirect anymore
[!WARNING] Don’t do this This was an interesting experiment, but messed with results on search engine pages. Nothing but “This Page Has Moved!” as far as the eye can see after a few months.
Use regular card/Hugo alias frontmatter and leave it at that.
Yesterday I wrote about using rakubrew, a tool for managing installations of the card/Raku programming language. It’s an okay post. I liked my little shoutout to Jeff Goff.</description>
   <category>post</category> 
   <category>post</category> 
   <category>hugo</category>  <category>accessibility</category>  <category>indieweb</category>  <category>i-fixed-it</category>  <category>hopefully</category>  <category>site</category>  <category>tools</category> 
  <content:encoded><![CDATA[<h2>I killed some redirects for accessibility and likes</h2><p><img src="/post/2020/05/../../../attachments/img/2020/cover-2020-05-20.png" alt="attachments/img/2020/cover-2020-05-20.png"/>
It&rsquo;s not a redirect anymore</p>
<blockquote>
<p>[!WARNING] Don&rsquo;t do this
This was an interesting experiment, but messed with results on search engine pages. Nothing but &ldquo;This Page Has Moved!&rdquo; as far as the eye can see after a few months.</p>
<p>Use regular <a href="/card/hugo/">card/Hugo</a> alias frontmatter and leave it at that.</p>
</blockquote>
<p>Yesterday I <a href="/post/2020/05/setting-up-raku-with-rakubrew/">wrote</a> about using <a href="https://rakubrew.org/">rakubrew</a>, a tool for managing installations of the <a href="/card/raku/">card/Raku</a> programming language.  It’s an okay post.  I liked my little shoutout to <a href="https://web.archive.org/web/20200212094016/http://theperlfisher.com/">Jeff Goff</a>.  Those who knew him better shared <a href="https://wendyga.wordpress.com/2020/04/06/jeff-goff-thanks-for-being-a-friend/">better words</a>.</p>
<p>Anyways — the post!  People responded on Twitter and Mastodon.  It was great.</p>
<p>Except none of those responses show up in the &ldquo;IndieWeb Reactions&rdquo; section of the post here on the site.</p>
<h2 id="a-problem">A problem</h2>
<p>I know why — basically.</p>
<p>My post title and URL referenced Rakubrew’s predecessor &ldquo;Rakudobrew,&rdquo; which I considered an unacceptable faux pas.  So I fixed it.</p>
<h2 id="hugo-aliases-a-solution-to-for-my-url-typo">Hugo aliases: A solution to for my URL typo</h2>
<p>This faux pas was easily corrected with <a href="https://gohugo.io/content-management/urls/#aliases">Hugo Aliases</a>.  Move your content where it needs to be, and add an alias for the old link to content front matter.</p>
<div class="highlight" title="Front matter for my Rakubrew post" verbatim="false"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Setting up Raku with Rakubrew</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">stub</span><span class="p">:</span><span class="w"> </span><span class="l">setting-up-raku-with-rakubrew</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">⋮</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">aliases</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">/post/2020/05/setting-up-raku-with-rakudobrew/</span><span class="w">
</span></span></span></code></pre></div><p>With default configuration, Hugo generates an HTML redirect page for every alias.</p>
<div class="highlight" title="HTML generated by Hugo for the alias" verbatim="false"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;canonical&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;robots&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;noindex&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;refresh&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;0; url=https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>The visitor may briefly see a blank page.  Browsers visiting the old URL see the <code>http-equiv=&quot;refresh&quot;</code> element and immediately go to the new <code>url</code>. Normally, this is fine.</p>
<h2 id="now-for-todays-problem">Now for today’s problem</h2>
<p>Now my <em>inbox/Webmention</em> feed is busted.  The syndication links all point to the old URL.  Visitors get corrected, but Webmention senders don’t.  <a href="https://brid.gy/">Brid.gy</a> — a lovely service which forwards social network reactions to your webmention handler — saw nothing to forward to!</p>
<p><img src="/post/2020/05/attachments/img/2020/bridgy.png" alt="Bridgy dashboard showing &ldquo;No webmention support&rdquo; in responses to my old URL"/></p>
<p>Well of <em>course</em> there’s no Webmention support.  The generated alias files have no <code>link rel=&quot;webmention&quot;</code>!</p>
<p>Took me a solid hour to figure that one out.</p>
<h2 id="use-a-custom-alias-template-for-my-webmention-problem">Use a custom alias template for my webmention problem</h2>
<p>Oh thank goodness. Hugo supports <a href="https://gohugo.io/content-management/urls/#customize">custom alias templates</a>.</p>
<p>What’s the least I can do to get things working?</p>
<div class="highlight" title="layouts/alias.html"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{ .Permalink }}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;canonical&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;webmention&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/webmention&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;pingback&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/xmlrpc&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;robots&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;noindex&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;refresh&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;0; url={{ .Permalink }}&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><blockquote>
<p>[!NOTE]
I was going to do a whole post on receiving webmentions, but that’s basically it  right there. Sign up at <a href="https://webmention.io">Webmention.io</a> and add the <code>&lt;link&gt;</code> to your pages.</p>
</blockquote>
<p>Brid.gy now sees the webmention link at the old URL.  I can manually resend the relevant mentions.  All is well.</p>
<p>Almost.  Now that I’m looking at my templates, I see problems.</p>
<h2 id="this-afternoons-problem-accessibility">This afternoon’s problem: accessibility</h2>
<p>Non-essential page refreshes cause accessibility issues.  Visitors may not have enough time to read the page before it redirects them.  And what if the refresh doesn’t happen, either due to user preference or browser bug?  The blank page offers no clue as to what they should expect.</p>
<p>So I go read the <a href="https://www.w3.org/TR/WCAG21/">Web Content Accessibility Guidelines</a>.  Okay I skimmed it. We already know there’s plenty more I could be doing for accessibility.  No need to get overwhelmed.</p>
<p>Oh heck — the WCAG figures client-side page refreshes should be treated as <a href="https://www.w3.org/TR/WCAG10-CORE-TECHS/#auto-page-refresh">deprecated</a>.</p>
<blockquote>
<p>Until user agents provide the ability to stop auto-redirect, do not use markup to redirect pages automatically.  Instead, configure the server to perform redirects.</p>
</blockquote>
<p>I tried that, and it still caused confusion about webmentions.  Services out there expect to interact with the link they have, and they don’t all understand redirect.  I don’t have to like it, but I should acknowledge it.</p>
<p>They list specific tests for client-side page refreshes.  I could compare what I have to the list.</p>
<figure class="border-primary border-left pl-9 container-9 centered">
  <blockquote
    cite="https://www.w3.org/WAI/WCAG21/Techniques/failures/F41.html">
<p>For a page that uses <code>meta http-equiv=&quot;refresh&quot;</code>:</p>
<ol>
<li>Check that the numerical value for seconds until refresh in the content attribute is present.</li>
<li>Check that the numerical value for seconds until refresh in the content attribute is less than one or greater than 72,000.</li>
<li>Check if the page qualifies for Real-time or Essential Exceptions in Success Criterion 2.2.1 Timing Adjustable.</li>
<li>Check if the user is provided an opportunity to turn off, extend, or adjust the timing of the page refresh.</li>
<li>Check if the page does not refresh after the duration specified in the content attribute.</li>
</ol>
  </blockquote><figcaption class="align-right">
    &mdash;
    WCAG21, <a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F41.html">Failure of Success Criterion 2.2.1, 2.2.4, and 3.2.5 due to using meta refresh to reload the page</a>
  </figcaption></figure>
<ul>
<li>There is a numerical value: <code>0</code>. Yay!</li>
<li>zero is less than one. Yay!</li>
<li>Nothing about my page requires real-time interaction, and while <em>I</em> may think   it’s <a href="https://www.w3.org/TR/WCAG21/#dfn-essential">essential</a> to get you at the updated address, you could get the same   result if I give you a link.  Even more unnerving for me: you could <em>choose</em>   not to follow that link.</li>
<li>How would I let a user control an automatic refresh?  Some Javascript maybe? Sure I want to add client-side functionality to the site, but I don’t want to start here.</li>
</ul>
<p>&ldquo;Ah,&rdquo; I hear you say.  &ldquo;But your alias refreshes immediately. Besides, there’s no content to read!&rdquo;</p>
<p>Right, I know.  I’m talking about what they call an &ldquo;edge case.&rdquo; Most people are used to Web pages shifting and changing address underneath them.  We’re used to doing it to them, anyways.</p>
<p>And the more I think about it, the more that empty page bugs me.  We should tell folks if we’re sending them somewhere else.  We should give them the option of not going.</p>
<p>Maybe just &ldquo;this page moved&rdquo; and a link instead of an automatic refresh.  That works for now.</p>
<p>I have no problem with automatic redirect for non-entry content: sections, pagination, archives, tag listings, and so on.  I made peace with my constant puttering on those a long time ago.  <a href="https://help.dreamhost.com/hc/en-us/articles/215747748-How-can-I-redirect-and-rewrite-my-URLs-with-an-htaccess-file-">redirect in <code>.htaccess</code></a> suffices for non-entry content.  But actual posts and pages should stay constant or at the very least tell you where they went.</p>
<p>And this post adds a new rule that they need to tell <em>you</em> — not just the browser.</p>
<p>This is what I came up with, more or less.</p>
<div class="highlight" title="layouts/alias.html"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{ .Permalink }}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;canonical&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;webmention&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/webmention&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;pingback&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/xmlrpc&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;robots&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;noindex&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    {{ if .Page }}
</span></span><span class="line"><span class="cl">      {{- $includeAnalytics := getenv &#34;INCLUDE_ANALYTICS&#34; -}} <span class="c">&lt;!-- 1 --&gt;</span>
</span></span><span class="line"><span class="cl">      {{- if eq $includeAnalytics &#34;1&#34; -}}
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">async</span> <span class="na">defer</span> <span class="na">data-domain</span><span class="o">=</span><span class="s">&#34;randomgeekery.org&#34;</span>
</span></span><span class="line"><span class="cl">                            <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://plausible.io/js/plausible.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{- end -}}
</span></span><span class="line"><span class="cl">    {{ else }}
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;refresh&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;0; url={{ .Permalink }}&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    {{ end }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ with .Page }}
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This Page Has Moved!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        For some reason — Web address typos and site reorganization are <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span>very<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        likely — {{ .Page.Title }} moved to <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Permalink }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ else }} <span class="c">&lt;!-- 2 --&gt;</span>
</span></span><span class="line"><span class="cl">      {{/* reenable to hunt down pagination links <span class="c">&lt;!-- 3 --&gt;</span>
</span></span><span class="line"><span class="cl">        {{ warnf &#34;No page defined for %q&#34; .Permalink }}
</span></span><span class="line"><span class="cl">      */}}
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        Hugo generated this redirect to <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>{{ .Permalink }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        automatically during site generation. Please follow the link if your browser
</span></span><span class="line"><span class="cl">        does not immediately redirect.
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ end }}
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><ol>
<li>Analytics for aliased pages, because I want to know if folks are clicking on
old links, but not for pagination aliases. Those are noise for me, not
information.</li>
<li>Today I learned that <a href="https://gohugo.io/functions/with/"><code>with</code></a> supports <code>else</code></li>
<li>When this <a href="https://gohugo.io/templates/introduction/#comments">comment</a> is removed, Hugo will <a href="https://gohugo.io/functions/warnf/">warn</a> me about aliases not associated with my content.</li>
</ol>
<p>It works with some tweaking.  Hugo <a href="https://gohugo.io/templates/pagination/">pagination</a> relies on aliases to setup <code>page/1</code> redirects.  Those pagination links aren’t associated with a Page, and an extra click with those would be annoying.  But in the end I have a non-refreshing informational page at the old link for page aliases, and an auto-refreshing page with context for pagination aliases.</p>
<p>Build gets much noisier with that <code>warnf</code> in place.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> make build
</span></span><span class="line"><span class="cl"><span class="go">⋮
</span></span></span><span class="line"><span class="cl"><span class="go">WARN 2020/05/20 12:27:20 No page defined for &#34;https://randomgeekery.org/tags/yeah-i-know/&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">WARN 2020/05/20 12:27:20 No page defined for &#34;https://randomgeekery.org/tags/unless-thats-cool/&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">WARN 2020/05/20 12:27:20 No page defined for &#34;https://randomgeekery.org/tags/zentangle/&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">WARN 2020/05/20 12:27:20 No page defined for &#34;https://randomgeekery.org/tags/zombie/&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">⋮
</span></span></span></code></pre></div><p>Kill pagination again.</p>
<p>Mind you, I have no idea what effect this will have on Search Engine Optimization. Then again, this would be a much different site if I cared about SEO.</p>
<div class="highlight" title="The new redirect file" verbatim="false"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;canonical&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;webmention&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/webmention&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;pingback&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://webmention.io/randomgeekery.org/xmlrpc&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;robots&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;noindex&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;refresh&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;0; url=https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This Page Has Moved!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      For one reason or another — Web address typos and site reorganization are
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span>very<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span> likely — &#34;Setting up Raku with Rakubrew&#34; moved to a new address.
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      If your browser does not immediately send you to the new location,
</span></span><span class="line"><span class="cl">      you can visit <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/&#34;</span><span class="p">&gt;</span>https://randomgeekery.org/post/2020/05/setting-up-raku-with-rakubrew/<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> yourself.
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>Now that I decided to go with an unchanging alias page, it needs to fit in stylistically with the rest of the site.  You don’t need to worry about those details though.</p>
<p>All this because I wanted to see my Twitter likes on the page.</p>
]]></content:encoded>
</item>
<item>
  <title>Post: Clearing the tracks as we go is part of the fun</title>
  <link>https://randomgeekery.org/post/2020/05/clearing-the-tracks-as-we-go-is-part-of-the-fun/</link>
  <pubDate>Sun, 10 May 2020 17:31:00 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/05/clearing-the-tracks-as-we-go-is-part-of-the-fun/</guid>
  <description>Buster Keaton is all of us
An ongoing conversation…
If I waited until I had the perfect toolchain for it, then I’d never start. Better to just start typing now, and see where my impatience carries me. — Jason McIntosh, [2020-05-09] I agree. Sorry for the delay in replying. I needed to create and/or fake the missing pieces of my workflow so I could reply.
And your reply came through just fine!</description>
   <category>post</category> 
   <category>note</category> 
   <category>indieweb</category>  <category>philosophy</category>  <category>indieweb-is-like-boatmurdered</category>  <category>losing-is-fun</category> 
  <content:encoded><![CDATA[<p><img src="/post/2020/05/../../../attachments/img/2020/cover-2020-05-10.jpg" alt="attachments/img/2020/cover-2020-05-10.jpg"/>
Buster Keaton is all of us</p>
<p>An ongoing conversation…</p>
<div class="u-in-reply-to h-cite">
  <blockquote>If I waited until I had the perfect toolchain for it, then I’d never start. Better to <em>just start typing</em> now, and see where my impatience carries me.</blockquote>
  <div class="attribution">—
      <a class="u-category h-card" href="https://jmac.org/">Jason McIntosh</a>,<cite>
      <a class="u-url" href="https://jmac.org/notes/oops-no-author.html">
        [<time class="dt-published">2020-05-09</time>]</a>
      </cite>
  </div>
</div>
<p>I agree. Sorry for the delay in replying. I needed to create and/or fake the missing pieces of my workflow so I <em>could</em> reply.</p>
<p>And your reply came through just fine! Course, now I need to go fix the bit where it’s not showing up on the note you’re replying to.</p>
]]></content:encoded>
</item>
<item>
  <title>Post: Debugging My Site With a Little Help From My Friends</title>
  <link>https://randomgeekery.org/post/2020/05/debugging-my-site-with-a-little-help-from-my-friends/</link>
  <pubDate>Fri, 08 May 2020 20:25:00 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/05/debugging-my-site-with-a-little-help-from-my-friends/</guid>
  <description>It’s probably redundant to test HTML structure for my pages, but what the heck.
– Me, a couple months ago
There’s no rule, but obviously every webmention to my site will have full author info including photo.
– Me, a few weeks ago
Look honey I added inbox/Webmention data to my Datasette dashboard!
– Me, this morning
Sweet, jmac liked my mention! Wait why are tests failing? Maybe check the dashboard?</description>
   <category>post</category> 
   <category>note</category> 
   <category>indieweb</category>  <category>data</category>  <category>i-fixed-it</category>  <category>before-i-pushed-it</category>  <category>yay-for-tests</category> 
  <content:encoded><![CDATA[<p><img src="/post/2020/05/../../../attachments/img/2020/cover-2020-05-08.png" alt="attachments/img/2020/cover-2020-05-08.png"/></p>
<blockquote>
<p>It’s probably redundant to test HTML structure for my pages, but <a href="/post/2020/03/passing-tests-is-now-required-to-push/">what the heck</a>.</p>
<p>&ndash; <cite>Me, a couple months ago</cite></p>
</blockquote>
<blockquote>
<p>There’s no rule, but <em>obviously</em> every webmention to my site will have
full author info including photo.</p>
<p>&ndash; <cite>Me, a few weeks ago</cite></p>
</blockquote>
<blockquote>
<p>Look honey I added <em>inbox/Webmention</em> data to my <a href="/post/2020/05/datasette-sure-is-nifty/">Datasette dashboard</a>!</p>
<p>&ndash; <cite>Me, this morning</cite></p>
</blockquote>
<blockquote>
<p>Sweet, jmac liked my <a href="/post/2020/05/pondering-my-indieweb-guinea-pig/">mention</a>!  Wait why are tests failing? Maybe check
the dashboard?</p>
<p>&ndash; <cite>Me, an hour ago</cite></p>
</blockquote>
<blockquote>
<p>I fixed it!</p>
<p>&ndash; <cite>Me, a few minutes ago</cite></p>
</blockquote>
<p>The fix is reasonable defaults for response author info. I got other fixes in mind, including a default &ldquo;card&rdquo; for anonymous response authors. Also, inferring author info from source site. Thanks for the help and the ideas, <a href="https://jmac.org">Jason McIntosh</a>!</p>
]]></content:encoded>
</item>
<item>
  <title>Post: Pondering My Indieweb Guinea Pig</title>
  <link>https://randomgeekery.org/post/2020/05/pondering-my-indieweb-guinea-pig/</link>
  <pubDate>Sun, 03 May 2020 20:30:00 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/05/pondering-my-indieweb-guinea-pig/</guid>
  <description>Can’t throw the YAPC::NA shirt away yet. Hasn’t worn through completely
Jason McIntosh seems like a reasonable choice to test inbox/Webmention on. I wouldn’t know about the card/IndieWeb if not for him. I know I’ll try his Web::Mention library eventually. But first, webmention-tools.
The other stuff didn’t work and didn’t give useful errors. I ended up using Web::Mention. It’s fine. Just half to rewrite half the post. That’s fine.</description>
   <category>post</category> 
   <category>note</category> 
   <category>indieweb</category> 
  <content:encoded><![CDATA[<p><img src="/post/2020/05/../../../attachments/img/2020/cover-2020-05-03.jpg" alt="attachments/img/2020/cover-2020-05-03.jpg"/>
Can&rsquo;t throw the YAPC::NA shirt away yet. Hasn&rsquo;t worn through completely</p>
<p><a class="u-category h-card" href="https://jmac.org">Jason McIntosh</a> seems like a reasonable choice to test <em>inbox/Webmention</em> on. I wouldn’t know about the <a href="/card/indieweb/">card/IndieWeb</a> if not for him. I know I’ll try his <a href="https://metacpan.org/pod/Web::Mention">Web::Mention</a> library eventually. But first, <a href="https://github.com/Ryuno-Ki/webmention-tools">webmention-tools</a>.</p>
<p>The other stuff didn’t work and didn’t give useful errors. I ended up using Web::Mention. It’s fine. Just half to rewrite half the post. That’s fine.</p>
<blockquote>
<p>[!NOTE]
The other stuff didn&rsquo;t work and didn&rsquo;t give useful errors.  I ended up using Web::Mention.  It&rsquo;s fine.  Just have to rewrite half the post.  That&rsquo;s fine.</p>
</blockquote>
]]></content:encoded>
</item>
</channel>
</rss>
