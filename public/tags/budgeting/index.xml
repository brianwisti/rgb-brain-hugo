<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>budgetingonRandom Geekery</title>
    <link>https://randomgeekery.org/tags/budgeting/</link>
    <description>
      Recent contentinbudgeting on Random Geekery
    </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
      
      <lastBuildDate>Mon, 31 Jul 2017 00:00:00 -0700</lastBuildDate><atom:link href="https://randomgeekery.org/tags/budgeting/index.xml" rel="self" type="application/rss+xml" /><item>
  <title>Post: Logging Money In Org Mode</title>
  <link>https://randomgeekery.org/post/2017/07/logging-money-in-org-mode/</link>
  <pubDate>Mon, 31 Jul 2017 00:00:00 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2017/07/logging-money-in-org-mode/</guid>
  <description>I am setting up Emacs card/Org to track how I use my money. This is a healthy habit, which I applied in the past with a little paper notebook. This needs to be as easy as that little notebook, or I will never use it.
[!NOTE] 2020-03-01 It wasn’t. I didn’t. But I’ve come back to it for other ideas over time.
I only want to see how I use my money.</description>
   <category>post</category> 
   <category>post</category> 
   <category>emacs</category>  <category>orgmode</category>  <category>budgeting</category>  <category>tools</category> 
  <content:encoded><![CDATA[<p><img src="/post/2017/07/../../../attachments/img/2017/cover-2017-07-31.png" alt="attachments/img/2017/cover-2017-07-31.png"/></p>
<p>I am setting up Emacs <a href="/card/org/">card/Org</a> to track how I use my money. This is a healthy habit, which I applied in the past with a little paper notebook. This needs to be as easy as that little notebook, or I will never use it.</p>
<blockquote>
<p>[!NOTE] 2020-03-01
It wasn’t. I didn’t. But I’ve come back to it for other ideas over time.</p>
</blockquote>
<p>I only want to see how I use my money. This can eventually become part of a budget, but all I want today is the ability to make quick money notes.</p>
<ul>
<li>My friend paid me back some money they borrowed</li>
<li>One of the housemates chipped in for groceries</li>
<li>I treated myself to coffee.</li>
</ul>
<p>Stuff like that. Let’s see what I come up with.</p>
<p>What about my phone?</p>
<p>I know there are budgeting phone apps. Those apps just haven’t served my needs. I spend more time in front of a computer than using my phone. I type at a keyboard quicker than on a phone.</p>
<h2 id="the-setup">The Setup</h2>
<p>I already use <a href="http://www.howardism.org/Technical/Emacs/journaling-org.html">journaling features</a> of Emacs org mode to record tasks that I accomplish through the day. That journal could also record income and expenses. I need a new org <a href="http://orgmode.org/manual/Capture-templates.html#Capture-templates">capture template</a> and menu item for money, though.</p>
<h2 id="adding-a-menu-entry-and-template">Adding a menu entry and template</h2>
<p><code>org-capture-templates</code> holds templates for creating new org entries. I manually edit mine, although the recommended approach to managing those is through the Emacs Customize interface. Old habits die hard.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-elisp" data-lang="elisp"><span class="line"><span class="cl"><span class="c1">;; Probably easier for most folks to manage this with Customize (C-c c C),</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; but setting this stuff directly helps me understand the structure better.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">setq</span> <span class="nv">org-capture-templates</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">quote</span>
</span></span><span class="line"><span class="cl">       <span class="p">((</span><span class="s">&#34;p&#34;</span> <span class="s">&#34;Personal&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">; ... other entries removed for clarity</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s">&#34;pm&#34;</span> <span class="s">&#34;Money entry&#34;</span> <span class="nv">entry</span>
</span></span><span class="line"><span class="cl">         <span class="p">(</span><span class="nv">file+datetree</span> <span class="s">&#34;~/Sync/org/agendas/journal.org&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="s">&#34;** %U - %^{Amount} %^{Summary} :money:%^g&#34;</span><span class="p">))))</span>
</span></span></code></pre></div><p>I start with fields needed for the template selection menu in <code>org-capture</code>. I also tell org mode to save money entries will in the <code>journal.org</code> file under a <em>date tree</em>, which presents a year / month / date hierarchy for entries. Finally, I describe the capture template.</p>
<p>A capture template can be a string or file containing text and template directives. A short string describes money entries. The table below explains the <a href="http://orgmode.org/manual/Template-expansion.html#Template-expansion">template expansion</a> rules I used.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%U</code></td>
<td>Creates an <em>inactive</em> timestamp, which will not appear in my regular agenda</td>
</tr>
<tr>
<td><code>%^{Amount}</code></td>
<td>Prompts me for the dollar amount of this transaction</td>
</tr>
<tr>
<td><code>%^{Summary}</code></td>
<td>Prompts me for a summary of this transaction</td>
</tr>
<tr>
<td><code>%^g</code></td>
<td>Prompts me for additional tags for this transaction</td>
</tr>
</tbody>
</table>
<p>This template does not validate input. I don’t know how to do that yet. I must remember to use money values for &ldquo;Amount&rdquo; and to tag every transaction as <code>:income</code> or <code>:expense:</code>. Later I can learn how to enforce these rules with code.</p>
<h2 id="triggering-a-capture">Triggering a Capture</h2>
<p><code>C-c c</code> is a global binding which starts <code>org-capture</code> from whatever I’m doing.</p>
<p><img src="/post/2017/07/attachments/img/2017/org-capture-menu-1.png" title="`C-c c` to enter org capture menu" alt="menu 1 for money capture"/></p>
<p><img src="/post/2017/07/attachments/img/2017/org-capture-menu-2.png" title="`p` then `m` for a Personal Money entry" alt="menu 2 for money capture"/></p>
<p>I get prompted for Amount, Summary, and tags. Once I answer those prompts, I am shown the Capture buffer. I don’t need to change anything, so I finalize the entry with <code>C-c C-c</code>.</p>
<p><img src="/post/2017/07/attachments/img/2017/org-money-capture-buffer.png" title="`C-c C-c` to finalize" alt="Finalize capture buffer"/></p>
<p>After I finalize the entry, Emacs closes the Capture buffer and returns me to whatever I was doing before. I can complete the whole process in about five seconds, which makes it even more convenient for me than the old paper notebook.</p>
<h2 id="filtering-my-agenda">Filtering my agenda</h2>
<p>Even though Org knows <code>journal.org</code> is an agenda file, inactive timestamps aren’t shown in the default agenda view. I’m okay with this for now. Things can get a little cluttered if I start showing every logged item.</p>
<h3 id="show-me-all-the-money-entries">Show me all the <code>:money:</code> entries</h3>
<p><code>C-c a</code> opens the menu of Agenda commands. m lets me search for tag matches. Let’s start with all <code>:money:</code> entries.</p>
<p><img src="/post/2017/07/attachments/img/2017/agenda-filter-money.png" title="`C-c a m money` to filter on the `:money` tag" alt="Filtered on money"/></p>
<h3 id="show-me-income">Show me income</h3>
<p>I already have the agenda match view open, so I use <code>C-u r</code> to refresh with a new search string, &ldquo;income&rdquo;.</p>
<p><img src="/post/2017/07/attachments/img/2017/agenda-filter-income.png" title="`C-u r income` to filter on the `:income:` tag" alt="Filtered on income"/></p>
<h3 id="show-me-expenses">Show me expenses</h3>
<p>Again, I use <code>C-u r</code> to refresh, this time looking for entries that match &ldquo;expense&rdquo;.</p>
<p><img src="/post/2017/07/attachments/img/2017/agenda-filter-expense.png" title="`C-u r expense` to filter on the `:expense:` tag" alt="Filtered on expense"/></p>
<h2 id="stop-here">STOP HERE</h2>
<p>Oh I want to get fancy so bad. Honestly though, I need to set the basic habit of logging all the little things I do with my money. Besides, this gives me something to learn and write future blog posts about!</p>
]]></content:encoded>
</item>
</channel>
</rss>
