<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>tmuxonRandom Geekery</title>
    <link>https://randomgeekery.org/tags/tmux/</link>
    <description>
      Recent contentintmux on Random Geekery
    </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
      
      <lastBuildDate>Sat, 21 Nov 2020 00:00:00 -0800</lastBuildDate><atom:link href="https://randomgeekery.org/tags/tmux/index.xml" rel="self" type="application/rss+xml" /><item>
  <title>Post: Naming things in tmux</title>
  <link>https://randomgeekery.org/post/2020/11/naming-things-in-tmux/</link>
  <pubDate>Sat, 21 Nov 2020 00:00:00 -0800</pubDate>
  
  <guid>https://randomgeekery.org/post/2020/11/naming-things-in-tmux/</guid>
  <description>I got the basics of tmux down:
starting a new session creating new windows moving between windows scrolling back in a window buffer And that’s about it.
After this long you might expect me to know more. Alas, no.
At some point I realized you can have more than one tmux session going at a time. Now my normal day includes the site in one session, work in another, and sometimes a third for random puttering.</description>
   <category>post</category> 
   <category>post</category> 
   <category>shell</category>  <category>tmux</category>  <category>tools</category> 
  <content:encoded><![CDATA[<h2>In which I sort out which tmux session is which</h2><p>I got the basics of <a href="https://github.com/tmux/tmux">tmux</a> down:</p>
<ul>
<li>starting a new session</li>
<li>creating new windows</li>
<li>moving between windows</li>
<li>scrolling back in a window buffer</li>
</ul>
<p>And that’s about it.</p>
<p>After this long you might expect me to know more.  Alas, no.</p>
<p>At some point I realized you can have more than one tmux session going at a time.  Now my normal day includes the site in one session, work in another, and sometimes a third for random puttering.</p>
<p>I need to manage everything better.</p>
<h2 id="using-tmux-commands">Using Tmux commands</h2>
<p>Although tmux binds keys to commands, it’s easier for me to remember words than keys.  It’s part of why I still use <a href="/card/taskwarrior/">Taskwarrior</a> more than <a href="/card/org/">card/Org</a>.  Because of that, I’ll focus on the tmux commands.</p>
<p>You can send them directly to <code>tmux</code> in an open shell.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ tmux &lt;command&gt; [arguments]</span></span></code></pre>
</figure><p>You don’t have a shell handy?  <code>C-b :</code> will pull up a quick Tmux  command prompt to enter your commands:</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">C-b :&lt;command&gt; [arguments]</span></span></code></pre>
</figure><p>If your command produces output, it will display in place of your current window until you hit <code>ENTER</code>.</p>
<p>On to the commands themselves.  I’ve added some highlights along the way, with command full names, aliases, and useful arguments — but not <em>all</em> arguments.</p>
<h2 id="sessions">Sessions</h2>
<p>First things first.  Let’s figure out what I have.</p>
<h3 id="listing-sessions">Listing sessions</h3>
<dl>
<dt>command</dt>
<dd><code>list-sessions</code></dd>
<dt>alias</dt>
<dd><code>ls</code></dd>
</dl>
<p>I can list sessions with <code>list-sessions</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ tmux list-sessions
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0: 3 windows (created Wed Nov 18 22:25:18 2020) (attached)
</span></span><span class="line"><span class="cl">2: 1 windows (created Sat Nov 21 12:08:28 2020)</span></span></code></pre>
</figure><p>This shows two sessions.  The first one — currently attached, which means its the one I’m typing in right now — contains three windows, and has been open a few days.  The other is open with some work stuff.  Yes, I know.  On a Saturday.  I’m working on that &ldquo;life/work balance&rdquo; thing.</p>
<p>By writing a blog post.</p>
<p>Whatever.</p>
<p>Anyways, that number on the start of each entry identifies the session.  It starts at zero, and keeps going up with each new session until you quit all your tmux sessions and start again.  Quitting a session won’t affect the numbering.  <code>2</code> is the name of the session, and that stayed true even when I quit session <code>1</code>.</p>
<h3 id="switching-to-different-sessions">Switching to different sessions</h3>
<dl>
<dt>command</dt>
<dd><code>switch-client</code></dd>
<dt>alias</dt>
<dd><code>switchc</code></dd>
<dt>shortcut</dt>
<dd><code>C-b )</code> / <code>C-b (</code></dd>
<dt>options</dt>
<dd><code>-t N</code>  target</dd>
<dd><code>-n</code>    next</dd>
<dd><code>-p</code>    previous</dd>
</dl>
<p>Used to be I’d get at that other session by opening a new tab in my terminal and telling <code>tmux</code> to attach to it, making sure to detach it from whatever other connections I may have had open.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">tmux attach -d -t 2</span></span></code></pre>
</figure><p>Then I learned that we can switch to my other sessions with <code>switch-client</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:switch-client -t 2
</span></span><span class="line"><span class="cl">:ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">0: 3 windows (created Wed Nov 18 22:25:18 2020)
</span></span><span class="line"><span class="cl">2: 1 windows (created Sat Nov 21 12:08:28 2020) (attached)</span></span></code></pre>
</figure><p>We can cycle through sessions without targeting them, too.  A <code>-n</code> argument cycles to the next, while <code>-p</code> cycles to the previous.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:switch-client -n</span></span></code></pre>
</figure><blockquote>
<p><strong>NOTE</strong></p>
<p>Okay, key bindings might help here.  Cycle through your Tmux sessions with <kbd>C-b )</kbd> and <kbd>C-b (</kbd>.</p>
</blockquote>
<p>I don’t think so much about tabbed terminals anymore.  I do forget which session holds work stuff and which holds site stuff, though.</p>
<h3 id="renaming-sessions">Renaming sessions</h3>
<dl>
<dt>command</dt>
<dd><code>rename-session</code></dd>
<dt>shortcut</dt>
<dd><em>C-b $</em></dd>
<dt>alias</dt>
<dd><code>rename</code></dd>
<dt>usage</dt>
<dd><code>rename -t N &lt;name&gt;</code></dd>
<dt>options</dt>
<dd><code>-t</code>  target</dd>
</dl>
<p>I’m not stuck with the tmux-assigned session numbers for identification. I can rename them!</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:rename-session -t 0 site
</span></span><span class="line"><span class="cl">:rename -t 2 work</span></span></code></pre>
</figure><p>Does that help?</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">site: 3 windows (created Wed Nov 18 22:25:18 2020) (attached)
</span></span><span class="line"><span class="cl">work: 1 windows (created Sat Nov 21 12:08:28 2020)</span></span></code></pre>
</figure><p>It sure does.  Oh and it sorts the listing alphabetically.  Good to know.</p>
<p>With several sessions going at once — it happens sometimes — names tell me what I intended to do with my time.  Makes switching to a targeted session easier for me as well.</p>
<p>I gave each of my sessions a purpose.  Now.  What’s going on with the windows <em>inside</em> the sessions?</p>
<h2 id="windows">Windows</h2>
<h3 id="listing-windows">Listing windows</h3>
<dl>
<dt>command</dt>
<dd><code>list-windows</code></dd>
<dt>alias</dt>
<dd><code>lsw</code></dd>
<dt>options</dt>
<dd><code>-a</code>  all</dd>
</dl>
<p><code>list-windows</code> summarizes the windows in my current session.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:list-windows
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1: zsh* (2 panes) [282x65] [layout eb16,282x65,0,0{142x65,0,0,0,139x65,143,0,1}] @0 (active)
</span></span><span class="line"><span class="cl">2: zsh#- (1 panes) [282x65] [layout c59f,282x65,0,0,2] @1
</span></span><span class="line"><span class="cl">3: zsh# (1 panes) [282x65] [layout c5a0,282x65,0,0,3] @2</span></span></code></pre>
</figure><p>Let’s see.  There’s a window with two panes, one of which is a Zsh session. There’s a second Zsh session.  And — uh — a third Zsh session.</p>
<p>I can even list every window in every session!</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:lsw -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">site:1: zsh* (2 panes) [282x65]
</span></span><span class="line"><span class="cl">site:2: zsh#- (1 panes) [282x65]
</span></span><span class="line"><span class="cl">site:3: zsh# (1 panes) [282x65]
</span></span><span class="line"><span class="cl">work:1: zsh* (1 panes) [282x63]</span></span></code></pre>
</figure><p>That’s not very helpful. The named sessions help clarify things somewhat, but the windows are just a lot of Zsh.</p>
<p>Let’s fix that.</p>
<h3 id="renaming-windows">Renaming windows</h3>
<dl>
<dt>command</dt>
<dd><code>rename-window</code></dd>
<dt>alias</dt>
<dd><code>renamew</code></dd>
<dt>usage</dt>
<dd><code>rename-window -t N &lt;NAME&gt;</code></dd>
<dt>options</dt>
<dd><code>-t N</code>  target window</dd>
</dl>
<p>I can rename the windows within my session.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:rename-window -t 1 writing
</span></span><span class="line"><span class="cl">:renamew -t 2 hugo
</span></span><span class="line"><span class="cl">:renamew -t 3 kexp</span></span></code></pre>
</figure><p>There we go.  I’m writing this post in <a href="/card/neovim/">card/Neovim</a>, serving my site with <a href="/card/hugo/">card/Hugo</a> locally for review, and listening to the <a href="/card/kexp/">card/KEXP</a> stream via <code>mplayer</code>.</p>
<p>Heck, I can rename windows in my other session if I like.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:rename-window -t work:1 compiling</span></span></code></pre>
</figure><p>Does <em>that</em> help?</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">:lsw -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">site:1: writing* (2 panes) [282x65]
</span></span><span class="line"><span class="cl">site:2: hugo# (1 panes) [282x65]
</span></span><span class="line"><span class="cl">site:3: kexp#- (1 panes) [282x65]
</span></span><span class="line"><span class="cl">work:1: compiling* (1 panes) [282x65]</span></span></code></pre>
</figure><p>It does!  My sessions and windows all make sense!  More or less.</p>
<p>Some folks might prefer naming their windows according to the current process. Maybe even automating that process.  For my own brain, a named purpose is generally more informative and more persistent than any executable.</p>
<p>So much more I could learn, but this covers enough to call it a post.</p>
<p>Besides, I need to get back to work.</p>
<h2 id="resources">Resources</h2>
<p>Where did I get all this?</p>
<ul>
<li><a href="https://tmuxcheatsheet.com/">tmux cheat sheet</a></li>
<li><a href="https://linux.die.net/man/1/tmux">tmux man page</a> — which you can get at on your own system with <code>man tmux</code></li>
</ul>
]]></content:encoded>
</item>
<item>
  <title>Post: tmux and laundry art</title>
  <link>https://randomgeekery.org/post/2019/07/tmux-and-laundry-art/</link>
  <pubDate>Mon, 15 Jul 2019 17:25:36 -0700</pubDate>
  
  <guid>https://randomgeekery.org/post/2019/07/tmux-and-laundry-art/</guid>
  <description>I made a toot and then I realized it’s the sort of thing that should be a note here for the next time I forget.
Sure I got work stuff done today but my biggest accomplishment was getting tmux to show inbox/ISO 8601 time in the status bar.
`set -g status-right &#34;%Y-%m-%dT%H:%M%z&#34;` Might as well share yesterday’s laundry day doodle while I’m at it. Very bright. I blame California.
I drew this while doing laundry Sunday</description>
   <category>post</category> 
   <category>note</category> 
   <category>tmux</category>  <category>art</category>  <category>mine</category>  <category>work-trip</category>  <category>i-have-clean-underwear-now</category>  <category>and-a-proper-timestamp</category>  <category>life-is-good</category> 
  <content:encoded><![CDATA[<p>I made a <a href="https://hackers.town/@randomgeek/102448275832514625">toot</a> and then I realized it&rsquo;s the sort of thing that should be a note here for the next time I forget.</p>
<blockquote>
<p>Sure I got work stuff done today but my biggest accomplishment was getting tmux to show <em>inbox/ISO 8601</em> time in the status bar.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >`set -g status-right &#34;%Y-%m-%dT%H:%M%z&#34;`</code></pre>
</figure></blockquote>
<p>Might as well share yesterday&rsquo;s laundry day doodle while I&rsquo;m at it. Very bright. I blame California.</p>
<p><figure>
    <img src="/../../../attachments/img/2019/cover-2019-07-15.jpg" alt="attachments/img/2019/cover-2019-07-15.jpg"/></figure>
I drew this while doing laundry Sunday</p>
]]></content:encoded>
</item>
</channel>
</rss>
