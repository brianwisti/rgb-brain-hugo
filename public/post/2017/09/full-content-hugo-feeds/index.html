<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.60856f0f2ed73fb3cd2820ee548c4698ffbc4d743736e852c0e27ce4f52dfd9c.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  

<meta property="og:url" content="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/">
<meta property="og:title" content="Full Content Hugo Feeds">
<meta name="twitter:title" content="Full Content Hugo Feeds">


  <meta name="twitter:site" content="@brianwisti">



  
    <meta name="twitter:description" content="card/Hugo defaults to filling your follow with the summary of every post. I prefer the full content of the most recent posts. Today I make my card/RSS feed reflect my preferences.
The Problem Hugo RSS feeds have minor quirks that annoy me.
First off, it includes every page and post by default. The site content includes posts going all the way back to the year 2000. Most sites I subscribe to on Feedly show only the most recent posts.">
    <meta property="og:description" content="card/Hugo defaults to filling your follow with the summary of every post. I prefer the full content of the most recent posts. Today I make my card/RSS feed reflect my preferences.
The Problem Hugo RSS feeds have minor quirks that annoy me.
First off, it includes every page and post by default. The site content includes posts going all the way back to the year 2000. Most sites I subscribe to on Feedly show only the most recent posts.">
  



<title itemprop="name">Full Content Hugo Feeds - Random Geekery</title>
<meta property="og:title" content=Full&#32;Content&#32;Hugo&#32;Feeds&#32;-&#32;Random&#32;Geekery />
<meta name="twitter:title" content=Full&#32;Content&#32;Hugo&#32;Feeds&#32;-&#32;Random&#32;Geekery />
<meta itemprop="name" content=Full&#32;Content&#32;Hugo&#32;Feeds&#32;-&#32;Random&#32;Geekery />
<meta name="application-name" content=Full&#32;Content&#32;Hugo&#32;Feeds&#32;-&#32;Random&#32;Geekery />
<meta property="og:site_name" content="Random Geekery" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/" />
<link rel="canonical" href="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/" itemprop="url" />
<meta name="url" content="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/" />
<meta name="twitter:url" content="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/" />
<meta property="og:url" content="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/" />


<meta property="og:updated_time" content=15009-15-12T90:00:17-0700 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://randomgeekery.org/sitemap.xml' />

  <link
      rel="alternate"
      type="application/rss+xml"
    
        href="/index.xml"
    
      title="Random Geekery"/>



<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Random Geekery" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.121.2">


    
    

<link
    rel="stylesheet"
    href="/css/style.fe9735814e6394fb590ff4fd2eb036a13152e6808ad90dd06ba181d89087b5d3.css"
    integrity="sha256-/pc1gU5jlPtZD/T9LrA2oTFS5oCK2Q3Qa6GB2JCHtdM=" 
    crossorigin="anonymous">


</head>

    <body class="">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://randomgeekery.org">
                <h1>Random Geekery</h1>
            </a>
        
    </h1>
    <p class="lead">
    Collecting my attempts to improve at tech, art, and life
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">
      
        <li class="bullet">
          <a href="/post/">Posts</a>
        </li>
      
        <li class="bullet">
          <a href="/card/">Cards</a>
        </li>
      
        <li class="bullet">
          <a href="/now/">Now</a>
        </li>
      
        <li class="bullet">
          <a href="/follow/">Follow</a>
        </li>
      
        <li class="bullet">
          <a href="/neighborhood/">Neighborhood</a>
        </li>
      
        <li class="bullet">
          <a href="/config/">Config</a>
        </li>
      
    </ul>
</nav>

        
  <div class="related">
    <div class="related-posts">
      <h3>Related</h3>
      <ul>
        
          <li><a href="/post/2017/07/hugo-archetype-templates/">Hugo Archetype Templates</a></li>
        
          <li><a href="/post/2021/08/trying-a-thing-with-neovim/">trying a thing with neovim</a></li>
        
          <li><a href="/post/2021/04/still-pondering-new-site-approaches/">Still pondering new site approaches</a></li>
        
          <li><a href="/post/2020/05/alias-templates-in-hugo/">Alias Templates in Hugo</a></li>
        
          <li><a href="/post/2020/05/querying-hugo-content-with-python/">Querying Hugo Content With Python</a></li>
        
      </ul>
    </div>
  </div>



        
















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Brian Wisti. All rights reserved.
</p>
<p class="footnote">
  This work is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License
  </a>.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <nav class="masthead">
    <ul>
    
  
    
  
    
  
    
  

    <li><a href="https://randomgeekery.org/">Random Geekery</a></li>
  

    <li><a href="https://randomgeekery.org/post/">Posts</a></li>
  

    <li><a href="https://randomgeekery.org/post/2017/">2017</a></li>
  

    <li><a class="active" href="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/">Full Content Hugo Feeds</a></li>
</nav>



  <div class="info">
    <h1 class="post-title">
        <a href="https://randomgeekery.org/post/2017/09/full-content-hugo-feeds/">Full Content Hugo Feeds</a>
    </h1>
    
        <time datetime="2017-09-15T00:00:00-0700" class="post-date">
            September 15, 2017
        </time>
    
    
    <ul class="tags">
        
        <li class="tag-site">
            <a href="https://randomgeekery.org/tags/site">site</a>
        </li>
        
        <li class="tag-hugo">
            <a href="https://randomgeekery.org/tags/hugo">hugo</a>
        </li>
        
        <li class="tag-tools">
            <a href="https://randomgeekery.org/tags/tools">tools</a>
        </li>
        
    </ul>
    
    
    
    
    
    
</div>

  <p><a href="/card/hugo/">card/Hugo</a> defaults to filling your <a href="/follow/">follow</a> with the summary of every post. I prefer the full content of the most recent posts. Today I make my <a href="/card/rss/">card/RSS</a> feed reflect my preferences.</p>
<h2 id="the-problem">The Problem</h2>
<p>Hugo RSS feeds have minor quirks that annoy me.</p>
<p>First off, it includes <em>every</em> page and post by default. The site content includes posts going all the way back to the year 2000. Most sites I subscribe to on <a href="https://feedly.com/">Feedly</a> show only the most recent posts. I want to do the same here.</p>
<p>Also, Hugo uses the <code>.Summary</code> of my content in the description for each item of the feed. There’s nothing wrong with this, but I like being able to read a full post without leaving Feedly - or whatever I use for RSS this week.</p>
<h2 id="a-solution">A Solution</h2>
<p>The <a href="https://gohugo.io/templates/rss/">Hugo RSS Template documentation</a> tells me what I need to know. I can change the entry count in site config, and handle the content of each entry with a template.</p>
<h3 id="limit-entry-count">Limit Entry Count</h3>
<p>Just the relevant bits of my <code>config.json</code>. Twenty entries seems like a good arbitrary value.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;languageCode&#34;</span><span class="p">:</span> <span class="s2">&#34;en-us&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;copyright&#34;</span><span class="p">:</span> <span class="s2">&#34;This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;rssLimit&#34;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Brian Wisti&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;brianwisti@pobox.com&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
</figure><h3 id="all-the-content">All The Content</h3>
<p>All I need to do here is copy the <a href="https://gohugo.io/templates/rss/#the-embedded-rss-xml">default</a> RSS template into <code>layouts/_default/rss.xml</code>, then make my changes.</p>
<p>My changes are small indeed. I place the post <code>.Content</code> in the description instead of the <code>.Summary</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;description&gt;</span>{{ .Content | html }}<span class="nt">&lt;/description&gt;</span></span></span></code></pre>
</figure><p>The full entry looks like this.</p>
<blockquote>
<p><strong>NOTE</strong></p>
<p>Updated for Hugo 0.57, which changed how <code>.Pages</code> worked. Now use <code>.RegularPages</code>, and for top-level RSS use <code>.Site.RegularPages</code></p>
</blockquote>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">{{- $pages := .RegularPages -}}
</span></span><span class="line"><span class="cl">{{- if .IsHome -}}
</span></span><span class="line"><span class="cl">  {{- $pages = .Site.RegularPages -}}
</span></span><span class="line"><span class="cl">{{- else -}}
</span></span><span class="line"><span class="cl">{{- end -}}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;rss</span> <span class="na">version=</span><span class="s">&#34;2.0&#34;</span> <span class="na">xmlns:atom=</span><span class="s">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;channel&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;title&gt;</span>{{ if eq  .Title  .Site.Title }}{{ .Site.Title }}{{ else }}{{ with .Title }}{{.}} on {{ end }}{{ .Site.Title }}{{ end }}<span class="nt">&lt;/title&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;link&gt;</span>{{ .Permalink }}<span class="nt">&lt;/link&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>Recent content {{ if ne  .Title  .Site.Title }}{{ with .Title }}in {{.}} {{ end }}{{ end }}on {{ .Site.Title }}<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;generator&gt;</span>Hugo -- gohugo.io<span class="nt">&lt;/generator&gt;</span>{{ with .Site.LanguageCode }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;language&gt;</span>{{.}}<span class="nt">&lt;/language&gt;</span>{{end}}{{ with .Site.Author.email }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;managingEditor&gt;</span>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}<span class="nt">&lt;/managingEditor&gt;</span>{{end}}{{ with .Site.Author.email }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;webMaster&gt;</span>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}<span class="nt">&lt;/webMaster&gt;</span>{{end}}{{ with .Site.Copyright }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;copyright&gt;</span>{{.}}<span class="nt">&lt;/copyright&gt;</span>{{end}}{{ if not .Date.IsZero }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;lastBuildDate&gt;</span>{{ .Date.Format &#34;Mon, 02 Jan 2006 15:04:05 -0700&#34; | safeHTML }}<span class="nt">&lt;/lastBuildDate&gt;</span>{{ end }}
</span></span><span class="line"><span class="cl">    {{ with .OutputFormats.Get &#34;RSS&#34; }}
</span></span><span class="line"><span class="cl">        {{ printf &#34;<span class="nt">&lt;atom:link</span> <span class="na">href=</span><span class="s">%q</span> <span class="na">rel=</span><span class="s">\&#34;self\&#34;</span> <span class="na">type=</span><span class="s">%q</span> <span class="nt">/&gt;</span>&#34; .Permalink .MediaType | safeHTML }}
</span></span><span class="line"><span class="cl">    {{ end }}
</span></span><span class="line"><span class="cl">    {{ range $pages }}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;item&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;title&gt;</span>{{ .Title }}<span class="nt">&lt;/title&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;link&gt;</span>{{ .Permalink }}<span class="nt">&lt;/link&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;pubDate&gt;</span>{{ .Date.Format &#34;Mon, 02 Jan 2006 15:04:05 -0700&#34; | safeHTML }}<span class="nt">&lt;/pubDate&gt;</span>
</span></span><span class="line"><span class="cl">      {{ with .Site.Author.email }}<span class="nt">&lt;author&gt;</span>{{.}}{{ with $.Site.Author.name }} ({{.}}){{end}}<span class="nt">&lt;/author&gt;</span>{{end}}
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;guid&gt;</span>{{ .Permalink }}<span class="nt">&lt;/guid&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;description&gt;</span>
</span></span><span class="line"><span class="cl">        {{- $coverImage := .Resources.GetMatch &#34;cover*&#34; -}}
</span></span><span class="line"><span class="cl">        {{- if $coverImage -}}
</span></span><span class="line"><span class="cl">          <span class="ni">&amp;lt;</span>a href=<span class="ni">&amp;#34;</span>{{ .Permalink }}<span class="ni">&amp;#34;</span> title=<span class="ni">&amp;#34;</span>{{ .Title }}<span class="ni">&amp;#34;&amp;gt;</span>
</span></span><span class="line"><span class="cl">            <span class="ni">&amp;lt;</span>img src=<span class="ni">&amp;#34;</span>{{ ($coverImage.Resize &#34;600x&#34;).RelPermalink }}<span class="ni">&amp;#34;</span> alt=<span class="ni">&amp;#34;</span>{{ .Title }}<span class="ni">&amp;#34;&amp;gt;</span>
</span></span><span class="line"><span class="cl">          <span class="ni">&amp;lt;</span>/a<span class="ni">&amp;gt;</span>
</span></span><span class="line"><span class="cl">        {{- end -}}
</span></span><span class="line"><span class="cl">        {{ .Content | html }}
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/item&gt;</span>
</span></span><span class="line"><span class="cl">    {{ end }}
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/channel&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/rss&gt;</span></span></span></code></pre>
</figure><p>That ought to do it.</p>
<h3 id="what-else">What Else?</h3>
<p>What else I could do with the feed?</p>
<ul>
<li>This <a href="http://www.rssboard.org/rss-profile">RSS Best Practices Profile</a> includes things I could tweak in my RSS   template, though that’s more about nice form than any urgent need.</li>
<li><a href="https://www.raymondcamden.com/2017/05/18/creating-a-json-feed-for-hugo/">Raymond Camden wrote a post</a> about adding a <a href="https://jsonfeed.org/">JSON Feed</a> to your Hugo site. It might be fun to do that here.</li>
</ul>

  




  <section class="backlinks">
    <h2>Backlinks</h2>
    <nav>
      <ul>
      
      <li>
        <a href="/post/2019/09/i-fixed-my-dot-pages/">i-fixed-my-dot-pages</a>
      </li>
      
      </ul>
    </nav>
  </section>



  <hr>
  

  
    <section>
      <p>
        Got a comment? A question? More of a comment than a question?
      </p>
      <p>
        Talk to me about this page on:
        
          
        
      </p>
    </section>
  
  
<hr>
<div class="footer">
    
    
      <a class="previous-post" href="https://randomgeekery.org/post/2017/09/a-desktop-background/?ref=footer">
        <span style="font-weight:bold;">« Previous</span>
        <br>A Desktop Background
      </a>
    
    
      <div class="next-post">
        <a href="https://randomgeekery.org/post/2017/09/comments-one-more-time/?ref=footer">
          <span style="font-weight:bold;">Next »</span>
          <br>Comments One More Time
        </a>
      </div>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#the-problem">The Problem</a></li>
    <li><a href="#a-solution">A Solution</a>
      <ul>
        <li><a href="#limit-entry-count">Limit Entry Count</a></li>
        <li><a href="#all-the-content">All The Content</a></li>
        <li><a href="#what-else">What Else?</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

  

        </div><script defer data-domain="randomgeekery.org" src="https://plausible.io/js/script.js"></script>
    </body>
</html>
