<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.60856f0f2ed73fb3cd2820ee548c4698ffbc4d743736e852c0e27ce4f52dfd9c.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  

<meta property="og:url" content="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/">
<meta property="og:title" content="Parrot Babysteps 01 - Getting Started">
<meta name="twitter:title" content="Parrot Babysteps 01 - Getting Started">


  <meta name="twitter:site" content="@brianwisti">



  
    <meta name="twitter:description" content="Introduction I want to explore basic installation and usage of Parrot. The usage will include output, simple variables, and input. PIR, the Parrot Intermediate Representation language, will be my language of choice. This is the same pattern as my other Babysteps tutorials, but the fact that PIR is a lower level language means that these are going to be some pretty big steps. I encourage you to walk along with me if you&rsquo;re curious about PIR.">
    <meta property="og:description" content="Introduction I want to explore basic installation and usage of Parrot. The usage will include output, simple variables, and input. PIR, the Parrot Intermediate Representation language, will be my language of choice. This is the same pattern as my other Babysteps tutorials, but the fact that PIR is a lower level language means that these are going to be some pretty big steps. I encourage you to walk along with me if you&rsquo;re curious about PIR.">
  



<title itemprop="name">Parrot Babysteps 01 - Getting Started - Random Geekery</title>
<meta property="og:title" content=Parrot&#32;Babysteps&#32;01&#32;-&#32;Getting&#32;Started&#32;-&#32;Random&#32;Geekery />
<meta name="twitter:title" content=Parrot&#32;Babysteps&#32;01&#32;-&#32;Getting&#32;Started&#32;-&#32;Random&#32;Geekery />
<meta itemprop="name" content=Parrot&#32;Babysteps&#32;01&#32;-&#32;Getting&#32;Started&#32;-&#32;Random&#32;Geekery />
<meta name="application-name" content=Parrot&#32;Babysteps&#32;01&#32;-&#32;Getting&#32;Started&#32;-&#32;Random&#32;Geekery />
<meta property="og:site_name" content="Random Geekery" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/" />
<link rel="canonical" href="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/" itemprop="url" />
<meta name="url" content="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/" />
<meta name="twitter:url" content="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/" />
<meta property="og:url" content="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/" />


<meta property="og:updated_time" content=12007-12-12T70:00:09-0700 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://randomgeekery.org/sitemap.xml' />

  <link
      rel="alternate"
      type="application/rss+xml"
    
        href="/index.xml"
    
      title="Random Geekery"/>



<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Random Geekery" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.121.2">


    
    

<link
    rel="stylesheet"
    href="/css/style.fe9735814e6394fb590ff4fd2eb036a13152e6808ad90dd06ba181d89087b5d3.css"
    integrity="sha256-/pc1gU5jlPtZD/T9LrA2oTFS5oCK2Q3Qa6GB2JCHtdM=" 
    crossorigin="anonymous">


</head>

    <body class="">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://randomgeekery.org">
                <h1>Random Geekery</h1>
            </a>
        
    </h1>
    <p class="lead">
    Collecting my attempts to improve at tech, art, and life
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">
      
        <li class="bullet">
          <a href="/post/">Posts</a>
        </li>
      
        <li class="bullet">
          <a href="/card/">Cards</a>
        </li>
      
        <li class="bullet">
          <a href="/now/">Now</a>
        </li>
      
        <li class="bullet">
          <a href="/follow/">Follow</a>
        </li>
      
        <li class="bullet">
          <a href="/neighborhood/">Neighborhood</a>
        </li>
      
        <li class="bullet">
          <a href="/config/">Config</a>
        </li>
      
    </ul>
</nav>

        
  <div class="related">
    <div class="related-posts">
      <h3>Related</h3>
      <ul>
        
          <li><a href="/post/2009/12/parrot-babysteps-08-testing-with-testmore/">Parrot Babysteps 08 - Testing With Test::More</a></li>
        
          <li><a href="/post/2009/10/parrot-babysteps-07-writing-subroutines/">Parrot Babysteps 07 - Writing Subroutines</a></li>
        
          <li><a href="/post/2009/10/parrot-babysteps-06-files-and-hashes/">Parrot Babysteps 06 - Files and Hashes</a></li>
        
          <li><a href="/post/2009/09/parrot-babysteps-05-more-about-arrays/">Parrot Babysteps 05 - More About Arrays</a></li>
        
          <li><a href="/post/2009/09/parrot-babysteps-04-adding-command-line-arguments/">Parrot Babysteps 04 - Adding Command Line Arguments</a></li>
        
      </ul>
    </div>
  </div>



        
















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Brian Wisti. All rights reserved.
</p>
<p class="footnote">
  This work is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License
  </a>.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <nav class="masthead">
    <ul>
    
  
    
  
    
  
    
  

    <li><a href="https://randomgeekery.org/">Random Geekery</a></li>
  

    <li><a href="https://randomgeekery.org/post/">Posts</a></li>
  

    <li><a href="https://randomgeekery.org/post/2009/">2009</a></li>
  

    <li><a class="active" href="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/">Parrot Babysteps 01 - Getting Started</a></li>
</nav>



  <div class="info">
    <h1 class="post-title">
        <a href="https://randomgeekery.org/post/2009/07/parrot-babysteps-01-getting-started/">Parrot Babysteps 01 - Getting Started</a>
    </h1>
    
        <time datetime="2009-07-12T00:00:00-0700" class="post-date">
            July 12, 2009
        </time>
    
    
    <ul class="tags">
        
        <li class="tag-parrot">
            <a href="https://randomgeekery.org/tags/parrot">parrot</a>
        </li>
        
        <li class="tag-learn">
            <a href="https://randomgeekery.org/tags/learn">learn</a>
        </li>
        
        <li class="tag-coolnamehere">
            <a href="https://randomgeekery.org/tags/coolnamehere">coolnamehere</a>
        </li>
        
    </ul>
    
    
    
    
        <p class="seriesname">
            Series: <a href="https://randomgeekery.orgseries/">[Parrot Babysteps]</a>
        </p>
    
    
    
</div>

  <h2 id="introduction">Introduction</h2>
<p>I want to explore basic installation and usage of <a href="/card/parrot/">Parrot</a>. The usage will include output, simple variables, and input. PIR, the <a href="http://docs.parrot.org/parrot/latest/html/docs/book/pir/ch03_basic_syntax.pod.html">Parrot Intermediate Representation</a> language, will be my language of choice. This is the same pattern as my other Babysteps tutorials, but the fact  that PIR is a lower level language means that these are going to be some pretty big steps. I encourage you to walk along with me if you&rsquo;re curious about PIR.</p>
<p>As always, I welcome suggestions from both novice and experienced Parrot hackers on how to improve this material for newcomers to Parrot.</p>
<h3 id="my-setup">My Setup</h3>
<h4 id="linux">Linux</h4>
<p>I&rsquo;m running <a href="http://www.ubuntu.com">Ubuntu</a> 10.10 with <a href="http://packages.ubuntu.com/lucid/build-essential">build-essential</a> and Perl 5 installed.
Perl 5 is installed by default on Ubuntu, and <code>build-essential</code> is easy enough.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ sudo apt-get install build-essential</code></pre>
</figure><p>There may be other dependencies already installed on this machine that I do not know
about. I tend to install <em>many</em> packages on my system, such as <a href="http://packages.ubuntu.com/lucid/wget">wget</a>. Perl 5 and
<code>build-essential</code> should do it as far as I know, though.</p>
<p>You will probably want a good text editor as well. <a href="/tags/vim/">Vim</a>
is my choice, but you&rsquo;re welcome to use anything that makes you happy.</p>
<h4 id="os-x">OS X</h4>
<p>The iMac which rules our home is currently running OS X 10.6 with the Developer Tools
and <a href="http://www.macports.org">MacPorts</a>. As usual, my text editor of choice for this platform is <a href="/tags/vim/">Vim</a>. I
have my essential toolkit including <code>wget</code> installed via MacPorts.</p>
<h4 id="windows">Windows</h4>
<p>I&rsquo;m using 32 bit Microsoft Windows 7 Ultimate on the other partition of my laptop. Hey,
it&rsquo;s better than Vista. I&rsquo;m also using <a href="/tags/vim/">Vim</a> to edit my
files on this platform because I am a creature of habit.</p>
<h2 id="installation">Installation</h2>
<p>You need to get Parrot before you can use it. The <a href="http://www.parrot.org/download">download page</a> shows where you can get versions of Parrot appropriate to your system, including <a href="http://sourceforge.net/projects/parrotwin32/">Windows packages</a>.</p>
<h3 id="linux-and-os-x">Linux and OS X</h3>
<p>I will be grabbing the latest <a href="http://parrot.org/source.html">stable source release</a>.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ cd ~/src
$ wget http://www.parrot.org/release/supported</code></pre>
</figure><p>Previous versions of these Babysteps were using the development releases of Parrot.
Why did I switch? I have trouble keeping my articles up to date with the pace
of Parrot development while also developing new material and working, so my focus moved
to the slower &ldquo;supported&rdquo; cycle. I may switch back to using development releases
if stable is horribly broken for something the Babysteps need. You&rsquo;re welcome
to use development. Most of the material will <em>probably</em> work as-is.</p>
<p>I&rsquo;ve gone through a few installations of Parrot by now, and have finally noticed that
bad things happen if you ignore your old installation. Cleaning up the important
files for the old installation is a good idea. So, if you are upgrading:</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ sudo rm -rf /usr/local/lib/*parrot*</code></pre>
</figure><p>Of course, you better make sure that anything matching that name pattern is actually
related to your old Parrot install before nuking them like this.</p>
<p>Next I&rsquo;ll unpack, build, and test my download.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ tar xfvz parrot-3.0.0.tar.gz
$ cd parrot-3.0.0
$ perl Configure.pl
$ make
$ make test</code></pre>
</figure><p><code>make test</code> takes a little longer each time I install a new version of Parrot. They add tests in every
iteration. Just think of those extra few seconds as proof that someone cares about the quality of
software they&rsquo;re writing for the world.</p>
<p>The Parrot authors can always use additional feedback about how well their baby works on
different platforms. One piece of information that can be useful for them is a smoke report
with test results telling them how well Parrot works on your machine. You can very easily do
this on Linux and OS X:</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ sudo cpan TAP::Harness::Archive
$ make smoke
...
All tests successful.
Files=381, Tests=13848, 155 wallclock secs ( 2.36 usr  1.43 sys &#43; 102.37 cusr 28.89 csys = 135.05 CPU)
Result: PASS

TAP Archive created at /Users/brian/src/parrot/parrot-3.0.0/parrot_test_run.tar.gz
Test report successfully sent to Smolder at
http://smolder.parrot.org/app/projects/report_details/14424
You can see other recent reports at
http://smolder.parrot.org/app/projects/smoke_reports/1 .</code></pre>
</figure><p>My smoke report and the <a href="http://smolder.parrot.org/app/projects/smoke_reports/1">list of recent reports</a> are fun to look at in a nerdy
sort of way.</p>
<p>There. Now I&rsquo;ll install Parrot.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ sudo make install</code></pre>
</figure><p>Oh, editor support is also available. Since I&rsquo;m using Vim, I&rsquo;ll need to make <code>vim-install</code>.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ cd editor
$ make vim-install</code></pre>
</figure><p>This gives me syntax highlighting and template generation for new PIR files.</p>
<h3 id="windows-1">Windows</h3>
<p>It appears to be even more straightforward to install Parrot on Microsoft Windows.
The <a href="http://www.parrot.org/download">Parrot download page</a> includes a link to
an installer file.</p>
<blockquote>
<p><a href="http://sourceforge.net/projects/parrotwin32/files/parrotwin32%20setup/">parrot-win32 setup files</a></p>
</blockquote>
<p>The stable setup file available currently is <code>setup-parrot-3.0.0.exe</code>. If you browse around,
you will find a lot of interesting setup files. I won&rsquo;t be exploring them right now,
but I encourage you to check them out.</p>
<p>I will download the latest stable installer and run it, following all the defaults for now.
That was easy. Don&rsquo;t miss the CHM Parrot documentation in <code>C:\Parrot-2.3.0\share\doc\parrot</code>!
It is good to have documentation handy when exploring strange new software.</p>
<p>I&rsquo;m not sure if this warning is still true, since my recent reinstallation of Windows
means I don&rsquo;t have a previous Parrot install to overwrite. Still, it&rsquo;s worth checking out.</p>
<p>When you install a new version of Parrot, the default behavior is to place it in the
same location as your previous installation. This means 3.0 would sit in <code>C:\Parrot-2.9.0</code>
on my machine. That can cause trouble, since some important Parrot settings may be based
on assumptions about where it was installed. The safest thing before upgrading Parrot
on Windows is to uninstall old versions through the Control Panel, and to make sure
that previous Parrot bin folders are not sitting on your Path. Check for that in
Computer → System Properties → Advanced System Settings →
Environment Variables. It gets easier to remember those steps after you&rsquo;ve clicked them
a few times. <strong>Do not install a new Parrot until you have removed the old one!</strong></p>
<p>So - installing Parrot is easy, but I still want my Vim support. The installer was made with
the reasonable assumption that Parrot users on Windows weren&rsquo;t going to need support for their
favorite Unix editors. Reasonable assumptions tend to break down around me, though.</p>
<p>If you&rsquo;re not using Vim on Windows, you can just move on to the next section. As for the rest of us,
let&rsquo;s get to it.</p>
<ol>
<li>Take your browser to the <a href="https://github.com/parrot/parrot/tree/RELEASE_3_0_0/editor">editor</a> directory for the latest stable Parrot release.</li>
<li>Download the files that are important for Vim support:
<ul>
<li><code>filetype_parrot.vim</code></li>
<li><code>indent_pir.vim</code></li>
<li><code>pasm.vim</code></li>
<li><code>pmc.vim</code></li>
<li><code>pir_vim.in</code></li>
<li><code>skeleton.pir</code></li>
</ul>
</li>
<li>Create a <code>vimfiles</code> directory in your home folder if you don&rsquo;t already have one.</li>
<li>Using <a href="https://github.com/parrot/parrot/blob/RELEASE_3_0_0/editor/README.pod">README.pod</a> as your guide, move the support files into your <code>vimfiles</code> directory:
<ul>
<li><code>filetype_parrot.vim</code> → <code>vimfiles\ftdetect\filetype_parrot.vim</code></li>
<li><code>indent_pir.vim</code> → <code>vimfiles\indent\pir.vim</code></li>
<li><code>pasm.vim</code> → <code>vimfiles\syntax\pasm.vim</code></li>
<li><code>pmc.vim</code> → <code>vimfiles\syntax\pmc.vim</code></li>
<li><code>pir_vim.in</code> → <code>vimfiles\syntax\pir.vim</code></li>
<li><code>skeleton.pir</code> → <code>vimfiles\skeleton.pir</code></li>
</ul>
</li>
<li>Open <code>vimfiles\ftdetect\filetype_parrot.vim</code> and execute the following:
<ul>
<li><code>:4s/\.vim/vimfiles</code></li>
<li>Or yeah, you can move to where it says <code>.vim</code> and manually replace that
with <code>vimfiles</code> if that&rsquo;s how you like to do things.</li>
</ul>
</li>
</ol>
<p>The steps may be a little more involved than just &ldquo;click and run&rdquo;, but it&rsquo;s worth
it for me. I <em>like</em> having Vim support.</p>
<h2 id="output">Output</h2>
<p>It is time to start writing code. Move to your projects
directory and create a new directory for the Parrot Babysteps project.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ cd ~/projects
$ mkdir parrot-babysteps
$ cd parrot-babysteps
$ gvim example-01-01.pir</code></pre>
</figure><p>When I&rsquo;m connected to the iMac via <code>ssh</code> I settle for</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ vim example-01-01.pir</code></pre>
</figure><p>The steps are the more or less the same on Windows. First, open a command
prompt by whatever means you&rsquo;re comfortable with. I prefer typing <code>cmd</code>
into the &ldquo;Search programs and files&rdquo; field of the Start menu. Then, move to your projects
directory and create a new directory for the Parrot Babysteps project.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >C:\Users\brian&gt; cd \projects
C:\projects&gt; mkdir parrot-babysteps
C:\projects&gt; cd parrot-babysteps
C:\projects\parrot-babysteps&gt; gvim example-01-01.pir</code></pre>
</figure><p>From here on, the differences between Windows and other platforms become
small enough that I feel comfortable ignoring them until something really significant
catches my attention.</p>
<p>We immediately see some benefit from installing editor support.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># Copyright (C) 2011 Parrot Foundation.

.sub &#39;main&#39; :main
    # For Parrot developers.
.end

# Local Variables:
#   mode: pir
#   fill-column: 100
# End:
# vim: expandtab shiftwidth=4 ft=pir:</code></pre>
</figure><p>That looks like a heck of a lot for an otherwise empty file, but most of those
lines are actually comments.</p>
<h3 id="comments">Comments</h3>
<p>PIR comments start with a <code>#</code> character. Everything from that <code>#</code> to the end of the line is
ignored by the parser.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># This is a comment</code></pre>
</figure><p>Comments are handy. They can explain why you chose a particular solution,
concerns you have about the code, or pretty much anything else. The
comments in our template serve to identify where the template file came from
and a few directives for Vim to remember when editing this file.</p>
<h3 id="directives">Directives</h3>
<p>There are only two important lines left when we ignore the comments.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >.sub main :main
.end</code></pre>
</figure><p>Lines that start with a period (<code>.</code>) are <em>directives</em>, special instructions for PIR. There
are a number of directives for Parrot, and it is possible to create your own. The <code>.sub</code>
line is telling PIR that this line begins a compilation unit called &ldquo;main&rdquo; which serves as the <code>:main</code>
compilation unit in the program. Compilation units are tasty named tidbits of code that get a
particular job done. They seem roughly the same as subroutines in other languages, so that&rsquo;s
what I&rsquo;m going to call them from here on. Less typing that way. Once you have created a subroutine,
you can call it elsewhere in your code.</p>
<p>Subroutines can also have a tag after their name to add a little extra information. The
subroutine tagged as <code>:main</code> is the main entry point for a PIR application - it&rsquo;s where
the program actually starts running. When you hand a <code>.pir</code> script to parrot, it directly
executes the code contained in <code>:main</code>. If it can&rsquo;t find a subroutine tagged
with <code>:main</code>, then Parrot will directly execute the first subroutine in your code. It is a
good idea to specify which is <code>:main</code> so you don&rsquo;t have to rely on the default behavior.</p>
<p>The <code>.end</code> directive tells PIR that it has reached the end of this particular subroutine.
Any <code>.sub</code> must be followed by <code>.end</code> eventually. Everything in between is the
body of the subroutine - the stuff that gets executed when the subroutine is called.</p>
<p>We now basically know what a subroutine is, what it looks like, and how Parrot goes
about figuring out which one to run first. We still don&rsquo;t have anything to be executed,
though. How about making this program <em>do</em> something?</p>
<h3 id="building-the-program">Building The Program</h3>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-01.pir
.sub main :main
    say &#34;Hello, world!&#34;
.end</code></pre>
</figure><p>Finally - code! Fairly self-explanatory code at that. Well, almost. <code>say</code> is
an <a href="http://docs.parrot.org/parrot/latest/html/ops.html"><em>opcode</em></a> - a
native Parrot command - for presenting values to the user. <code>say</code> won&rsquo;t normally speak the
phrase &ldquo;Hello, world!&rdquo; through your speakers. It will, however print the phrase on a line in your
console.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ parrot example-01-01.pir
Hello, World!
$</code></pre>
</figure><h2 id="variables">Variables</h2>
<p>What if I want to change the greeting, so that it displays my name as part of the greeting?
While simply rewriting the phrase does technically work &hellip;</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-02.pir
.sub main :main
    say &#34;Hello, Brian!&#34;
.end</code></pre>
</figure><p>&hellip; I want something a little more flexible. I want to be able to define a name, and then
print a greeting with the name. This will require adding a variable.
We use variables whenever we want the program to remember something.</p>
<p>There are four types of things that Parrot can keep track of:</p>
<dl>
<dt>integers</dt>
<dd>Simple counting numbers, like 13 or -485</dd>
<dt>numbers</dt>
<dd>Decimal numbers like 1.3 or -1.3e+5</dd>
<dt>strings</dt>
<dd>text and phrases like &ldquo;Hello, Brian&rdquo;</dd>
<dt>Polymorphic Containers, or PMCs</dt>
<dd>A special type that basically refers to anything that&rsquo;s not an integer, number, or string</dd>
</dl>
<p>Parrot has special rules for dealing with each of these types, so it is important to tell Parrot
how you want your variable treated. One way to do that is with <em>register variables</em>. Registers
can be thought of as variable buckets: one bucket for each type. Okay, maybe not a bucket. More
like four rows of nicely organized variables, with each variable type in its own row.</p>
<p>Register variables are prefixed with the dollar sign <code>$</code> and an uppercase letter indicating their
type. The rest of the variable name is a whole number from zero on up. Here, let me show you:</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-03.pir
.sub main :main
    $S0 = &#34;Brian&#34;
    $S1 = &#34;Hello, &#34; . $S0
    $S1 = $S1 . &#34;!&#34;
    say $S1
.end</code></pre>
</figure><p>Assignment to register variables is pretty straightforward, as you can see. You tell Parrot which
position in which row is being assigned to on one side of the <code>=</code> symbol, and the value
to assign on the other.</p>
<p>Oh, did you see what I did when creating <code>$S1</code>? I did mention that Parrot has special rules for
handling each type of variable. One thing you can do with string variables is paste two of them
together, making a whole new string. You use the <code>.</code> operator for that. But only for pasting two
strings together. If you want more, you&rsquo;ll need to do it on two lines like I did.</p>
<p>Back to register variables. No, it doesn&rsquo;t really matter which numbers you use. I could have
used <code>$S9999</code> to hold the name and Parrot wouldn&rsquo;t care. We just need to remember what purpose
each variable serves.</p>
<p>Actually, that&rsquo;s the main problem with register variables. Their names don&rsquo;t tell you much about
what purpose the variable serves. Sure, it&rsquo;s easy enough to see that <code>$S1</code> is a string, but will I
still remember that it&rsquo;s being used to hold the name once I&rsquo;ve added a few hundred lines of code?
Probably not. I&rsquo;m getting flashbacks to programming BASIC in grade school, when I kept a cheat
sheet of variable names handy.</p>
<p>Parrot is thankfully there for us with the <code>.local</code> directive. <code>local</code> allows us to create a
readable name for our variable, asking Parrot to deal with the register side of things.</p>
<p>Creation of a local variable requires the <code>.local</code> directive, followed by type information and
lastly a variable name.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >.local &lt;type&gt; &lt;name&gt;</code></pre>
</figure><p>The type names match up to the Parrot types, of course:</p>
<ul>
<li><code>int</code> for integers</li>
<li><code>num</code> for numbers</li>
<li><code>string</code> for strings</li>
<li><code>pmc</code> for PMCs</li>
</ul>
<p>Variables created with the <code>.local</code> directive can be treated the same as a
register variable.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-04.pir
.sub main :main
    .local string name
    .local string greeting

    name = &#34;Brian&#34;
    greeting = &#34;Hello, &#34; . name
    greeting = greeting . &#34;!&#34;
    say greeting
.end</code></pre>
</figure><p>You know, that line where we append an exclamation to our greeting is longer than it needs to be.
The PIR provides special operators for when you are doing something to a variable and then assigning
the result back to the same variable. That means we could describe &ldquo;append an exclamation point to
<code>greeting</code>&rdquo; this way, too:</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-05.pir
# ...
greeting = &#34;Hello, &#34; . name
greeting .= &#34;!&#34;
# ...</code></pre>
</figure><h2 id="input">Input</h2>
<p>We&rsquo;ve covered a lot of conceptual ground already. What has it earned us?</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ parrot example-01-05.pir
Hello, Brian!</code></pre>
</figure><p>This is not impressive. We&rsquo;ve actually increased the amount of code significantly compared
to just saying &ldquo;Hello, Brian!&rdquo;. Splitting the name off into its own variable does lay the groundwork
for a slightly more impressive task, though. Let&rsquo;s make the program ask the user for his name
when run.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      ># example-01-06.pir
.sub main :main
    .local string name
    .local string greeting
    .local pmc stdin

    stdin = getstdin
    name = stdin.&#39;readline_interactive&#39;(&#34;Please enter your name: &#34;)
    greeting = &#34;Hello, &#34; . name
    greeting .= &#34;!&#34;
    say greeting
.end</code></pre>
</figure><p>We&rsquo;ve only added a few lines, but these few lines have added a lot of functionality. The first thing
you probably noticed was the <em>pmc</em> variable named <code>stdin</code>. PMCs are used in Parrot for complex types,
like classes in other languages. They often have special subroutines called <em>methods</em> tied to them.
Those methods can greatly simplify the creation of complex programs.</p>
<p>We use the opcode <code>getstdin</code> to figure out standard input and assign
it to our <code>stdin</code> PMC. Standard input - widely referred to as <em>stdin</em> - is a
<a href="http://docs.parrot.org/parrot/latest/html/src/pmc/filehandle.pmc.html">FileHandle</a> that
describes where we expect user input to come from. That can be any number of places, but
usually refers to the keyboard. The FileHandle method we care about most today is <code>readline_interactive</code>.
<code>readline_interactive</code> prompts the user for input, and hands that input back to the program.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ parrot example-01-06.pir
Please enter your name: Brian
Hello, Brian</code></pre>
</figure><h2 id="conclusion">Conclusion</h2>
<p>We&rsquo;ve done quite a bit today. We installed Parrot, created a simple script that prints a greeting
to the console, then expanded our script to get the user&rsquo;s name and incorporate the name into the
greeting. It took less effort than I thought it would despite the fact that PIR is low-level
compared to languages like Python and Perl 5.</p>
<p>The ability to handle user input makes it easier to create meaningful programs even with a bare
minimum of knowledge, and can be very handy as we explore Parrot, the PIR syntax, and the
many <a href="http://docs.parrot.org/parrot/latest/html/pmc.html">PMCs</a>. From this starting point,
we can go deeper into the <a href="http://docs.parrot.org/parrot/latest/html/">Parrot</a> and <a href="http://docs.parrot.org/parrot/latest/html/docs/pdds/pdd19_pir.pod.html">PIR</a> documentation, and search the Web
for Parrot tutorials.</p>
<p>Remember also that Parrot is released monthly. I do try to keep these pages up to date, but sometimes
work and life demand more of my time, or I get distracted by bright shiny things. So don&rsquo;t assume
my version numbers are correct. Double-check them for yourself.</p>
<p>Most of all, have fun!</p>

  




  <section class="backlinks">
    <h2>Backlinks</h2>
    <nav>
      <ul>
      
      <li>
        <a href="/post/2009/07/parrot-babysteps-02-variables-and-types/">parrot-babysteps-02-variables-and-types</a>
      </li>
      
      <li>
        <a href="/post/2009/10/parrot-babysteps-07-writing-subroutines/">parrot-babysteps-07-writing-subroutines</a>
      </li>
      
      <li>
        <a href="/post/2009/12/nqp-not-quite-perl/">nqp-not-quite-perl</a>
      </li>
      
      </ul>
    </nav>
  </section>



  <hr>
  

  
  
<hr>
<div class="footer">
    
      <p>Series: <a href="/series/parrot-babysteps">Parrot Babysteps</a></p>
    
    
      <a class="previous-post" href="https://randomgeekery.org/post/2009/07/parrot-babysteps-02-variables-and-types/?ref=footer">
        <span style="font-weight:bold;">« Previous</span>
        <br>Parrot Babysteps 02 - Variables and Types
      </a>
    
    
      <div class="next-post">
        <a href="https://randomgeekery.org/post/2009/08/perl-5101-is-available/?ref=footer">
          <span style="font-weight:bold;">Next »</span>
          <br>Perl 5.10.1 is available
        </a>
      </div>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#my-setup">My Setup</a></li>
      </ul>
    </li>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#linux-and-os-x">Linux and OS X</a></li>
        <li><a href="#windows-1">Windows</a></li>
      </ul>
    </li>
    <li><a href="#output">Output</a>
      <ul>
        <li><a href="#comments">Comments</a></li>
        <li><a href="#directives">Directives</a></li>
        <li><a href="#building-the-program">Building The Program</a></li>
      </ul>
    </li>
    <li><a href="#variables">Variables</a></li>
    <li><a href="#input">Input</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
</div>

  

        </div><script defer data-domain="randomgeekery.org" src="https://plausible.io/js/script.js"></script>
    </body>
</html>
