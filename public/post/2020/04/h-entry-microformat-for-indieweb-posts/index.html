<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.60856f0f2ed73fb3cd2820ee548c4698ffbc4d743736e852c0e27ce4f52dfd9c.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  

<meta property="og:url" content="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/">
<meta property="og:title" content="h-entry Microformat for Indieweb Posts">
<meta name="twitter:title" content="h-entry Microformat for Indieweb Posts">


  <meta name="twitter:site" content="@brianwisti">



  
    <meta name="twitter:description" content="In which I go overboard with Hugo and Python for a quick Sunday task">
    <meta property="og:description" content="In which I go overboard with Hugo and Python for a quick Sunday task">
  



<title itemprop="name">h-entry Microformat for Indieweb Posts - Random Geekery</title>
<meta property="og:title" content=h-entry&#32;Microformat&#32;for&#32;Indieweb&#32;Posts&#32;-&#32;Random&#32;Geekery />
<meta name="twitter:title" content=h-entry&#32;Microformat&#32;for&#32;Indieweb&#32;Posts&#32;-&#32;Random&#32;Geekery />
<meta itemprop="name" content=h-entry&#32;Microformat&#32;for&#32;Indieweb&#32;Posts&#32;-&#32;Random&#32;Geekery />
<meta name="application-name" content=h-entry&#32;Microformat&#32;for&#32;Indieweb&#32;Posts&#32;-&#32;Random&#32;Geekery />
<meta property="og:site_name" content="Random Geekery" />


<meta name="description" content="In which I go overboard with Hugo and Python for a quick Sunday task" />
<meta itemprop="description" content="In which I go overboard with Hugo and Python for a quick Sunday task" />
<meta property="og:description" content="In which I go overboard with Hugo and Python for a quick Sunday task" />
<meta name="twitter:description" content="In which I go overboard with Hugo and Python for a quick Sunday task" />


<base href="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/" />
<link rel="canonical" href="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/" itemprop="url" />
<meta name="url" content="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/" />
<meta name="twitter:url" content="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/" />
<meta property="og:url" content="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/" />


<meta property="og:updated_time" content=26004-26-01T42:33:20-0700 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://randomgeekery.org/sitemap.xml' />

  <link
      rel="alternate"
      type="application/rss+xml"
    
        href="/index.xml"
    
      title="Random Geekery"/>



<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Random Geekery" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.121.2">


    
    

<link
    rel="stylesheet"
    href="/css/style.fe9735814e6394fb590ff4fd2eb036a13152e6808ad90dd06ba181d89087b5d3.css"
    integrity="sha256-/pc1gU5jlPtZD/T9LrA2oTFS5oCK2Q3Qa6GB2JCHtdM=" 
    crossorigin="anonymous">


</head>

    <body class="">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://randomgeekery.org">
                <h1>Random Geekery</h1>
            </a>
        
    </h1>
    <p class="lead">
    Collecting my attempts to improve at tech, art, and life
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">
      
        <li class="bullet">
          <a href="/post/">Posts</a>
        </li>
      
        <li class="bullet">
          <a href="/card/">Cards</a>
        </li>
      
        <li class="bullet">
          <a href="/now/">Now</a>
        </li>
      
        <li class="bullet">
          <a href="/follow/">Follow</a>
        </li>
      
        <li class="bullet">
          <a href="/neighborhood/">Neighborhood</a>
        </li>
      
        <li class="bullet">
          <a href="/config/">Config</a>
        </li>
      
    </ul>
</nav>

        
  <div class="related">
    <div class="related-posts">
      <h3>Related</h3>
      <ul>
        
          <li><a href="/post/2020/11/using-the-webmentionio-api/">Using the Webmention.io API</a></li>
        
          <li><a href="/post/2020/05/alias-templates-in-hugo/">Alias Templates in Hugo</a></li>
        
          <li><a href="/post/2020/05/querying-hugo-content-with-python/">Querying Hugo Content With Python</a></li>
        
          <li><a href="/post/2020/04/indieweb-h-cards/">Indieweb h-cards</a></li>
        
          <li><a href="/post/2020/02/python-invoke/">Python Invoke</a></li>
        
      </ul>
    </div>
  </div>



        
















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Brian Wisti. All rights reserved.
</p>
<p class="footnote">
  This work is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License
  </a>.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <nav class="masthead">
    <ul>
    
  
    
  
    
  
    
  

    <li><a href="https://randomgeekery.org/">Random Geekery</a></li>
  

    <li><a href="https://randomgeekery.org/post/">Posts</a></li>
  

    <li><a href="https://randomgeekery.org/post/2020/">2020</a></li>
  

    <li><a class="active" href="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/">h-entry Microformat for Indieweb Posts</a></li>
</nav>



  <div class="info">
    <h1 class="post-title">
        <a href="https://randomgeekery.org/post/2020/04/h-entry-microformat-for-indieweb-posts/">h-entry Microformat for Indieweb Posts</a>
    </h1>
    
        <time datetime="2020-04-26T13:02:33-0700" class="post-date">
            April 26, 2020
        </time>
    
    
    <ul class="tags">
        
        <li class="tag-indieweb">
            <a href="https://randomgeekery.org/tags/indieweb">indieweb</a>
        </li>
        
        <li class="tag-microformats">
            <a href="https://randomgeekery.org/tags/microformats">microformats</a>
        </li>
        
        <li class="tag-hugo">
            <a href="https://randomgeekery.org/tags/hugo">hugo</a>
        </li>
        
        <li class="tag-python">
            <a href="https://randomgeekery.org/tags/python">python</a>
        </li>
        
        <li class="tag-site">
            <a href="https://randomgeekery.org/tags/site">site</a>
        </li>
        
        <li class="tag-tools">
            <a href="https://randomgeekery.org/tags/tools">tools</a>
        </li>
        
    </ul>
    
    
    
    
    
    
</div>

  <p><figure>
    <img src="/../../../attachments/img/2020/cover-2020-04-26.png" alt="attachments/img/2020/cover-2020-04-26.png"/></figure>
looking at the interpreted microformats for a post, in <a href="https://github.com/sharkdp/bat">bat</a></p>
<h2 id="h-entry">h-entry?</h2>
<p>Like <a href="/post/2020/04/indieweb-h-cards/">h-card</a>, <a href="https://microformats.org/wiki/h-entry">h-entry</a> provides an attribute vocabulary. While h-card focuses on people and organizations, h-entry describes shared content — blog posts and comments in particular, but you could expand it as far as you like. Want to generate a feed of git commits? You could use h-entry to describe a commit!</p>
<blockquote>
<p>[!NOTE] But I want to try Webmentions!
You totally can!</p>
<p>I plan to examine <em>inbox/Webmention</em> — the mechanism behind replies, likes, reposts, etc. They’re the fun conversation part of <a href="/card/indieweb/">card/IndieWeb</a> after all. But I need to make sure that when I get to the conversation I have a clear understanding of who is taking part — the h-cards — and where the discussions take place — the h-entries.</p>
<p>But you don’t need to wait for me. There are fine tutorials out there to walk you through the process. <a href="https://IndieWebify.me">https://IndieWebify.me</a> in particular tells you everything you need to know.</p>
</blockquote>
<h2 id="fine-lets-get-on-with-it">Fine. Let’s get on with it</h2>
<p>IndieWeb entries identify themselves with the <code>h-entry</code> class. <code>e-content</code> marks the <em>content</em> of the entry. You could always mark the same element as both. In fact that’s basically what I’ve been doing for a while.</p>
<p>I’m trying to move away from that though. Let’s give it a little structure.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;h-entry&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    ... metadata like title and tags ...
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;e-content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    ... my insightful post ...
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    ... supplemental content like social links ...
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span></span></span></code></pre>
</figure><p>Time to focus on putting useful metadata in the article header. Might as well expose some of the <a href="/card/hugo/">card/Hugo</a> templating as well.</p>
<figure class="highlight">
  <figcaption><tt>layouts/_default/single.html</tt></figcaption>
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{ define &#34;main&#34; }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;h-entry&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{ .Render &#34;article-header&#34; }}
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;e-content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{ .Content }}
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      {{ .Render &#34;social&#34; }}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{ end }}</span></span></code></pre>
</figure><h3 id="the-bare-minimum">The bare minimum</h3>
<p>For IndieWeb purposes, we need to know at least two things about every entry:</p>
<dl>
<dt><code>u-url</code></dt>
<dd>where it was published</dd>
<dt><code>dt-published</code></dt>
<dd>when it was published</dd>
</dl>
<p>I’ll put both in a
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/time"><code>time</code></a>
element.</p>
<figure class="highlight">
  <figcaption><tt>layouts/post/article-header.html</tt></figcaption>
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">time</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;dt-published&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="na">datetime</span><span class="o">=</span><span class="s">&#34;{{ .Format $.Site.Params.TimestampForm }}&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;u-url&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    {{ .Format $.Site.Params.DateForm }} 
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;</span></span></span></code></pre>
</figure><ul>
<li><code>$TimestampForm</code> is set in <code>config.toml</code> as <code>&quot;2006-01-02T15:04:00-07:00&quot;</code></li>
<li><code>$DateForm</code> is set to <code>&quot;Monday, January 2, 2006&quot;</code></li>
</ul>
<p><code>time</code> lets me include a machine-readable timestamp and a human-readable date string. I play a lot with what I consider &ldquo;human-readable,&rdquo; so a consistent format for machines is good.</p>
<p>My blog follows mundane convention, assigning a title to every post. I also like to add a description to clarify the topic. These are good candidates for <code>p-name</code> and <code>p-summary</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-name&#34;</span><span class="p">&gt;</span>{{ .Title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">{{- with .Params.Description -}}
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-summary&#34;</span><span class="p">&gt;</span>{{ . | markdownify }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- end -}}
</span></span><span class="line"><span class="cl">⋮</span></span></code></pre>
</figure><p>Let’s see that in action with my post on <a href="/post/2019/06/weighing-files-with-python/">weighing files in Python</a></p>
<p><figure>
    <img src="/attachments/img/2020/h-entry-with-title.png" alt="post header with minimal h-entry info"/></figure></p>
<h3 id="who-wrote-this-anyways">Who wrote this, anyways?</h3>
<p>Seems a bit silly on my single-author site, but explicit authorship <em>does</em> make things clearer to casual visitors.</p>
<p>Fortunately I have a canonical h-card that I can link to.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">⋮
</span></span><span class="line"><span class="cl">— by
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-author h-card&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;author&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Site.BaseURL }}&#34;</span><span class="p">&gt;</span>{{ .Site.Author.name }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span></span></span></code></pre>
</figure><h3 id="how-do-i-classify-my-entry">How do I classify my entry?</h3>
<p>Now to sprinkle some <code>p-category</code> items in to help folks understand where the post fits with the rest of my site.</p>
<p>I organize my Hugo content by <a href="https://gohugo.io/content-management/types">type</a> — currently Note or Post — and then add optional details with categories and tags. The post should probably show each of those as a <code>p-category</code>.</p>
<blockquote>
<p><strong>2022-03-27</strong></p>
<p>Now the main type is Post. Posts and notes are categories within the blog. All that timestamped stuff goes in one section with this version of the site. Category and tag are still <code>p-category</code> though.</p>
</blockquote>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- with .Type -}} 
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-category&#34;</span>
</span></span><span class="line"><span class="cl">     <span class="na">href</span><span class="o">=</span><span class="s">&#34;/{{ . | urlize }}&#34;</span><span class="p">&gt;</span>{{ . | title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- end -}}
</span></span><span class="line"><span class="cl">{{ with .Params.category }} 
</span></span><span class="line"><span class="cl">  — <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-category&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">href</span><span class="o">=</span><span class="s">&#34;/categories/{{ . | urlize }}&#34;</span><span class="p">&gt;</span>{{ . | title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{ end }}
</span></span><span class="line"><span class="cl">{{ with .Params.tags }}
</span></span><span class="line"><span class="cl">  —
</span></span><span class="line"><span class="cl">  {{ range . }}
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;p-category tag&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="na">href</span><span class="o">=</span><span class="s">&#34;/tags/{{ . | urlize }}&#34;</span><span class="p">&gt;</span>{{ . }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  {{ end }}
</span></span><span class="line"><span class="cl">{{ end }}</span></span></code></pre>
</figure><ul>
<li><code>.Type</code> is a Hugo <a href="https://gohugo.io/variables/page/">page variable</a></li>
<li>Category and tag <a href="https://gohugo.io/content-management/taxonomies/">taxonomies</a> get   set in front matter.</li>
</ul>
<p><figure>
    <img src="/attachments/img/2020/h-entry-with-categories.png" alt="h-entry with categories"/></figure></p>
<h3 id="what-about-cover-images">What about cover images?</h3>
<p>Many — but not all — of my posts include a cover image. Cover images should almost definitely be <code>u-photo</code>. There’s a <strong>lot</strong> of image processing with it though. To make a long story short — <em>too late!</em> — I’ll just show the microformat-specific addition.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-text" data-lang="text"><span class="line"><span class="cl">&lt;img {{ if $isCover }}class=&#34;u-photo&#34;{{ end }}</span></span></code></pre>
</figure><p><figure>
    <img src="/attachments/img/2020/h-entry-full.png" alt="full h-entry"/></figure></p>
<p>Yep, that’s a post header all right. What about validation? Did I get the microformats right?</p>
<h2 id="examining-my-microformats-locally">Examining my microformats locally</h2>
<p>I know I can <a href="https://indiewebify.me/validate-h-entry">validate</a> my h-entry at IndieWebify or copy and paste to <a href="https://microformats.io">https://microformats.io</a>, but I want to look at this stuff from the shell. Preferably with a single command. <em>Ideally</em> with something I can stash in my [[inbox/Pyinvoke|<code>tasks.py</code>]] file.</p>
<p><a href="https://github.com/microformats/mf2py">mfpy</a> and <a href="https://mf2util.readthedocs.io/en/latest/">mf2util</a> provide microformats2 handling for <a href="/card/python/">card/Python</a> code.</p>
<p>I mainly want a dump of microformats found in a given URL, in a format easier for me to read than JSON. Here’s what I came up with.</p>
<p>I got carried away. This could have been its own post. Oh well. It’s like a two-for-one deal!</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">textwrap</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">invoke</span> <span class="kn">import</span> <span class="n">task</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">mf2py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">mf2util</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">ruamel.yaml</span> <span class="kn">import</span> <span class="n">YAML</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">toml</span></span></span></code></pre>
</figure><p>I need different formats for different purposes, so I import Python libraries for <a href="/card/yaml/">card/YAML</a> and <a href="/card/toml/">card/TOML</a> along with the standard library <a href="https://docs.python.org/3/library/json.html">JSON</a> support.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">shorten_properties</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Find text in `d`, shortening it to fit in `width` columns&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">shorten_properties</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">d</span> <span class="o">=</span> <span class="p">[</span> <span class="n">shorten_properties</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">d</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">shorten</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">d</span></span></span></code></pre>
</figure><p>Sometimes microformat info is a wall of text. Quite often, in fact, since <code>e-content</code> includes the full content of any post. <code>shorten_properties</code> uses <a href="https://docs.python.org/3/library/textwrap.html">textwrap</a> to keep large text properties from overwhelming me.</p>
<p>Now that I have the support code I need, it&rsquo;s time for the Pyinvoke task.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@task</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">help</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;Web address to examine&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;format&#34;</span><span class="p">:</span> <span class="s2">&#34;preferred output format&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;interpret&#34;</span><span class="p">:</span> <span class="s2">&#34;whether to interpret the parsed entries&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;everything&#34;</span><span class="p">:</span> <span class="s2">&#34;whether to display items only or everything parsed&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;shorten&#34;</span><span class="p">:</span> <span class="s2">&#34;whether to shorten text found to 80 characters&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">mf2</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&#34;json&#34;</span><span class="p">,</span> <span class="n">interpret</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">everything</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shorten</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Display any microformats2 data from `url`&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">entry</span> <span class="o">=</span> <span class="n">mf2py</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">wants_json</span> <span class="o">=</span> <span class="nb">format</span> <span class="o">==</span> <span class="s2">&#34;json&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Usually I just care about the h-* items</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">everything</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">entry</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;items&#34;</span><span class="p">:</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&#34;items&#34;</span><span class="p">]}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Sometimes I want mf2util&#39;s summarized version</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">interpret</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">entry</span> <span class="o">=</span> <span class="n">mf2util</span><span class="o">.</span><span class="n">interpret</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">want_json</span><span class="o">=</span><span class="n">wants_json</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># I usually don&#39;t want a wall of text</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">shorten</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">entry</span> <span class="o">=</span> <span class="n">shorten_properties</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">format</span> <span class="o">==</span> <span class="s2">&#34;yml&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">YAML</span><span class="p">()</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="s2">&#34;toml&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">toml</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="s2">&#34;json&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Unknown format &#39;</span><span class="si">{</span><span class="nb">format</span><span class="si">}</span><span class="s2">&#39; requested&#34;</span><span class="p">)</span></span></span></code></pre>
</figure><p>I could have made this a small script, but I’m pretty sure I’ll check microformats routinely while working on the site. Makes sense to have it readily available.</p>
<p>Let’s try out my new <code>mf2</code> task.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> invoke mf2 http://localhost:1313/2019/06/01/weighing-files-with-python/ -f yml
</span></span></code></pre>
</figure><figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">items</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">type</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">h-entry</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">properties</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">Weighing Files With Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">summary</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">I want to optimize this site’s file sizes, but first I should see if I need</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="l">to.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">published</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s1">&#39;2019-06-01T00:00:00+00:00&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">http://localhost:1313/2019/06/01/weighing-files-with-python/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">author</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">h-card</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">properties</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">Brian Wisti</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">url</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">http://localhost:1313/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">Brian Wisti</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">category</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">Post</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">Programming</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">site</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">files</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">photo</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">http://localhost:1313/2019/06/01/weighing-files-with-python/cover.png</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">content</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">html</span><span class="p">:</span><span class="w"> </span><span class="l">&lt;div class=&#34;sidebarblock&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;div [...]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">Updates 2019-06-02 adjusted a couple clumsy property methods with [...]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">syndication</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">https://hackers.town/@randomgeek/102199106551447993</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">https://twitter.com/brianwisti/status/1134977256684761089</span></span></span></code></pre>
</figure><p>What about default JSON output and letting mf2util interpret the results?</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> inv mf2 http://localhost:1313/2019/06/01/weighing-files-with-python -i
</span></span></code></pre>
</figure><figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Brian Wisti&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;http://localhost:1313/&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;div class=\&#34;sidebarblock\&#34;&gt; &lt;div class=\&#34;content\&#34;&gt; &lt;div [...]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;content-plain&#34;</span><span class="p">:</span> <span class="s2">&#34;Updates 2019-06-02 adjusted a couple clumsy property methods with [...]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Weighing Files With Python&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;photo&#34;</span><span class="p">:</span> <span class="s2">&#34;http://localhost:1313/2019/06/01/weighing-files-with-python/cover.png&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;published&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-06-01T00:00:00+00:00&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;summary&#34;</span><span class="p">:</span> <span class="s2">&#34;I want to optimize this site\u2019s file sizes, but first I should see if I need to.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;syndication&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;https://twitter.com/brianwisti/status/1134977256684761089&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;https://hackers.town/@randomgeek/102199106551447993&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;entry&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;http://localhost:1313/2019/06/01/weighing-files-with-python/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
</figure><p><em>Nice</em>. I can tidy it up a bit later. Probably end up using those mf2util functions. But this works great for now. And my h-entry looks good!</p>
<h3 id="examine-microformats-on-other-sites">Examine microformats on other sites</h3>
<p>Oh hey I can grab any URL. This handles another issue I had: trying to
examine microformats on other sites.</p>
<p>Let’s grab <a href="https://v2.jacky.wtf">Jacky Alciné</a>&rsquo;s h-card!</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> inv mf2 https://v2.jacky.wtf -f toml
</span></span></code></pre>
</figure><figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;h-card&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">items</span><span class="p">.</span><span class="nx">properties</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;Jacky Alciné&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">photo</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf/media/profile-image&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;h-feed&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;h-entry&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">author</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf/post/a53bb7c4-2831-4666-ad85-75433ab2b1c3&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">published</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;2020-04-26T08:57:39-07:00&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">in-reply-to</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;h-cite&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="p">=</span> <span class="s2">&#34;https://twitter.com/tiffani/status/1254438450897530882&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">in-reply-to</span><span class="p">.</span><span class="nx">properties</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://twitter.com/tiffani/status/1254438450897530882&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">in-reply-to</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">author</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;h-card&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="p">=</span> <span class="s2">&#34;https://twitter.com/tiffani&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">in-reply-to</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">author</span><span class="p">.</span><span class="nx">properties</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;Tiffani Ashley Bell&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://twitter.com/tiffani&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">in-reply-to</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">content</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">html</span> <span class="p">=</span> <span class="s2">&#34;Definitely need to take a long walk today. Staying in the house all day is [...]&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="p">=</span> <span class="s2">&#34;Definitely need to take a long walk today. Staying in the house all day is [...]&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">items</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">content</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">html</span> <span class="p">=</span> <span class="s2">&#34;&lt;p&gt;Just came back from one and I felt so much better about this with the [...]&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="p">=</span> <span class="s2">&#34;Just came back from one and I felt so much better about this with the way [...]&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">items</span><span class="p">.</span><span class="nx">properties</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;Last Note&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">uid</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf/stream&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf/stream&#34;</span><span class="p">,]</span>
</span></span><span class="line"><span class="cl"><span class="nx">author</span> <span class="p">=</span> <span class="p">[</span> <span class="s2">&#34;https://v2.jacky.wtf&#34;</span><span class="p">,]</span></span></span></code></pre>
</figure><p>Neat. Now I can collect more h-cards for a blogroll idea I had. Better post this first.</p>

  




  <section class="backlinks">
    <h2>Backlinks</h2>
    <nav>
      <ul>
      
      <li>
        <a href="/post/2020/04/i-helped-genehack/">i-helped-genehack</a>
      </li>
      
      </ul>
    </nav>
  </section>



  <hr>
  

  
    <section>
      <p>
        Got a comment? A question? More of a comment than a question?
      </p>
      <p>
        Talk to me about this page on:
        
          
            <a
              href="https://hackers.town/@randomgeek/104066683729018365"
              class="u-syndication label centered fa fa-mastodon"
              title="Mastodon"
              rel="syndication"
              aria-label="Mastodon"
            >
              <span class="sr-only">mastodon</span>
            </a>
          
        
          
        
      </p>
    </section>
  
  
<hr>
<div class="footer">
    
    
      <a class="previous-post" href="https://randomgeekery.org/post/2020/04/the-seattle-freeze-is-a-hundred-years-old/?ref=footer">
        <span style="font-weight:bold;">« Previous</span>
        <br>The Seattle Freeze Is a Hundred Years Old
      </a>
    
    
      <div class="next-post">
        <a href="https://randomgeekery.org/post/2020/04/patronize-me-on-liberapay/?ref=footer">
          <span style="font-weight:bold;">Next »</span>
          <br>Patronize Me on Liberapay
        </a>
      </div>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#h-entry">h-entry?</a></li>
    <li><a href="#fine-lets-get-on-with-it">Fine. Let’s get on with it</a>
      <ul>
        <li><a href="#the-bare-minimum">The bare minimum</a></li>
        <li><a href="#who-wrote-this-anyways">Who wrote this, anyways?</a></li>
        <li><a href="#how-do-i-classify-my-entry">How do I classify my entry?</a></li>
        <li><a href="#what-about-cover-images">What about cover images?</a></li>
      </ul>
    </li>
    <li><a href="#examining-my-microformats-locally">Examining my microformats locally</a>
      <ul>
        <li><a href="#examine-microformats-on-other-sites">Examine microformats on other sites</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

  

        </div><script defer data-domain="randomgeekery.org" src="https://plausible.io/js/script.js"></script>
    </body>
</html>
