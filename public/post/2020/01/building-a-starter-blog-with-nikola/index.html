<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.60856f0f2ed73fb3cd2820ee548c4698ffbc4d743736e852c0e27ce4f52dfd9c.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  

<meta property="og:url" content="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/">
<meta property="og:title" content="Building a starter blog with Nikola">
<meta name="twitter:title" content="Building a starter blog with Nikola">


  <meta name="twitter:site" content="@brianwisti">



  
    <meta name="twitter:description" content="In which I play with another site builder">
    <meta property="og:description" content="In which I play with another site builder">
  



<title itemprop="name">Building a starter blog with Nikola - Random Geekery</title>
<meta property="og:title" content=Building&#32;a&#32;starter&#32;blog&#32;with&#32;Nikola&#32;-&#32;Random&#32;Geekery />
<meta name="twitter:title" content=Building&#32;a&#32;starter&#32;blog&#32;with&#32;Nikola&#32;-&#32;Random&#32;Geekery />
<meta itemprop="name" content=Building&#32;a&#32;starter&#32;blog&#32;with&#32;Nikola&#32;-&#32;Random&#32;Geekery />
<meta name="application-name" content=Building&#32;a&#32;starter&#32;blog&#32;with&#32;Nikola&#32;-&#32;Random&#32;Geekery />
<meta property="og:site_name" content="Random Geekery" />


<meta name="description" content="In which I play with another site builder" />
<meta itemprop="description" content="In which I play with another site builder" />
<meta property="og:description" content="In which I play with another site builder" />
<meta name="twitter:description" content="In which I play with another site builder" />


<base href="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/" />
<link rel="canonical" href="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/" itemprop="url" />
<meta name="url" content="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/" />
<meta name="twitter:url" content="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/" />
<meta property="og:url" content="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/" />


<meta property="og:updated_time" content=5001-05-12T10:00:20-0800 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://randomgeekery.org/sitemap.xml' />

  <link
      rel="alternate"
      type="application/rss+xml"
    
        href="/index.xml"
    
      title="Random Geekery"/>



<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Random Geekery" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.121.2">


    
    

<link
    rel="stylesheet"
    href="/css/style.fe9735814e6394fb590ff4fd2eb036a13152e6808ad90dd06ba181d89087b5d3.css"
    integrity="sha256-/pc1gU5jlPtZD/T9LrA2oTFS5oCK2Q3Qa6GB2JCHtdM=" 
    crossorigin="anonymous">


</head>

    <body class="">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://randomgeekery.org">
                <h1>Random Geekery</h1>
            </a>
        
    </h1>
    <p class="lead">
    Collecting my attempts to improve at tech, art, and life
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">
      
        <li class="bullet">
          <a href="/post/">Posts</a>
        </li>
      
        <li class="bullet">
          <a href="/card/">Cards</a>
        </li>
      
        <li class="bullet">
          <a href="/now/">Now</a>
        </li>
      
        <li class="bullet">
          <a href="/follow/">Follow</a>
        </li>
      
        <li class="bullet">
          <a href="/neighborhood/">Neighborhood</a>
        </li>
      
        <li class="bullet">
          <a href="/config/">Config</a>
        </li>
      
    </ul>
</nav>

        
  <div class="related">
    <div class="related-posts">
      <h3>Related</h3>
      <ul>
        
          <li><a href="/post/2020/11/using-the-webmentionio-api/">Using the Webmention.io API</a></li>
        
          <li><a href="/post/2020/05/querying-hugo-content-with-python/">Querying Hugo Content With Python</a></li>
        
          <li><a href="/post/2020/04/h-entry-microformat-for-indieweb-posts/">h-entry Microformat for Indieweb Posts</a></li>
        
          <li><a href="/post/2020/02/python-invoke/">Python Invoke</a></li>
        
          <li><a href="/post/2020/02/stealing-a-hugo-shortcode-for-nikola/">Stealing a Hugo Shortcode for Nikola</a></li>
        
      </ul>
    </div>
  </div>



        
















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Brian Wisti. All rights reserved.
</p>
<p class="footnote">
  This work is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License
  </a>.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <nav class="masthead">
    <ul>
    
  
    
  
    
  
    
  

    <li><a href="https://randomgeekery.org/">Random Geekery</a></li>
  

    <li><a href="https://randomgeekery.org/post/">Posts</a></li>
  

    <li><a href="https://randomgeekery.org/post/2020/">2020</a></li>
  

    <li><a class="active" href="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/">Building a starter blog with Nikola</a></li>
</nav>



  <div class="info">
    <h1 class="post-title">
        <a href="https://randomgeekery.org/post/2020/01/building-a-starter-blog-with-nikola/">Building a starter blog with Nikola</a>
    </h1>
    
        <time datetime="2020-01-05T00:00:00-0800" class="post-date">
            January 5, 2020
        </time>
    
    
    <ul class="tags">
        
        <li class="tag-python">
            <a href="https://randomgeekery.org/tags/python">python</a>
        </li>
        
        <li class="tag-site">
            <a href="https://randomgeekery.org/tags/site">site</a>
        </li>
        
        <li class="tag-nikola">
            <a href="https://randomgeekery.org/tags/nikola">nikola</a>
        </li>
        
        <li class="tag-tools">
            <a href="https://randomgeekery.org/tags/tools">tools</a>
        </li>
        
    </ul>
    
    
    
    
    
    
</div>

  <p><figure>
    <img src="/../../../attachments/img/2020/cover-2020-01-05.png" alt="attachments/img/2020/cover-2020-01-05.png"/></figure></p>
<p>I messed with <a href="/card/nikola/">card/Nikola</a> a while back, but ended up going with <a href="/card/hugo/">card/Hugo</a>. Nikola has evolved in the last couple years, though. Let’s check it out!</p>
<p>Nikola is a static site generator written in <a href="/card/python/">card/Python</a>. Its <a href="https://getnikola.com/features">features</a> support a flexible workflow while still providing a solid blogging experience &ldquo;out of the box.&rdquo; You can extend that flexibility further via plugins.</p>
<p>That focused flexibility intrigues me. <a href="/post/2019/12/removing-mmark-has-me-grumbly/">Cleaning</a> my site after Hugo <a href="https://gohugo.io/news/0.60.0-relnotes/">deprecated</a> the <a href="https://mmark.miek.nl/">mmark</a> format was a chore. My site has too many moving parts for me to casually port it, but I can still play a little.</p>
<h2 id="setup">Setup</h2>
<p>It’s generally a good idea to have a dedicated Python environment for each of your projects. So I’ll set something up with <a href="https://github.com/pyenv/pyenv">pyenv</a> and <a href="https://github.com/pyenv/pyenv-virtualenv">pyenv-virtualenv</a>.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ pyenv virtualenv 3.8.0 nikola
$ pyenv activate nikola</code></pre>
</figure><p>Next is Nikola itself. I’ll follow the <a href="https://getnikola.com/getting-started.html">suggestion</a> to install Nikola[Extras], which includes all sorts of niftiness.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ pip install --upgrade &#34;Nikola[Extras]&#34;</code></pre>
</figure><h2 id="initialize-the-site">Initialize the site</h2>
<p>Let’s initialize an empty site.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ nikola init starter-blog
Creating Nikola Site
====================

This is Nikola v8.0.3.  We will now ask you a few easy questions about your new site.
If you do not want to answer and want to go with the defaults instead, simply restart with the `-q` parameter.
--- Questions about the site ---
...
--- Questions about languages and locales ---
...
--- Questions about comments ---
...
That&#39;s it, Nikola is now configured.  Make sure to edit conf.py to your liking.
If you are looking for themes and addons, check out https://themes.getnikola.com/ and https://plugins.getnikola.com/.
Have fun!
[2020-01-04T07:08:02Z] INFO: init: Created empty site at starter-blog.</code></pre>
</figure><p>Okay, no need to paste the entire exchange. Suffice to say that many questions are asked. And as Nikola itself mentions, we can skip those questions questions with <code>nikola init -q</code>.</p>
<p>We get a configuration file written in Python and a handful of empty directories.
I see nothing for themes, but that’s okay. Nikola starts us off with the <a href="https://themes.getnikola.com/v8/bootblog4/">bootblog4</a> theme. We can pick or make new themes later.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ tree
.
├── conf.py
├── files
├── galleries
├── listings
├── pages
└── posts

5 directories, 1 file</code></pre>
</figure><p>My answers to Nikola’s setup questions sit up there near the top of <code>conf.py</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Data about this site</span>
</span></span><span class="line"><span class="cl"><span class="n">BLOG_AUTHOR</span> <span class="o">=</span> <span class="s2">&#34;Brian Wisti&#34;</span>  <span class="c1"># (translatable)</span>
</span></span><span class="line"><span class="cl"><span class="n">BLOG_TITLE</span> <span class="o">=</span> <span class="s2">&#34;Random Geekery&#34;</span>  <span class="c1"># (translatable)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># This is the main URL for your site. It will be used</span>
</span></span><span class="line"><span class="cl"><span class="c1"># in a prominent link. Don&#39;t forget the protocol (http/https)!</span>
</span></span><span class="line"><span class="cl"><span class="n">SITE_URL</span> <span class="o">=</span> <span class="s2">&#34;https://randomgeekery.org/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># This is the URL where Nikola&#39;s output will be deployed.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># If not set, defaults to SITE_URL</span>
</span></span><span class="line"><span class="cl"><span class="c1"># BASE_URL = &#34;https://randomgeekery.org/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">BLOG_EMAIL</span> <span class="o">=</span> <span class="s2">&#34;brianwisti@pobox.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">BLOG_DESCRIPTION</span> <span class="o">=</span> <span class="s2">&#34;The Random Geekery Blog, built with Nikola&#34;</span>  <span class="c1"># (translatable)</span></span></span></code></pre>
</figure><p>The rest of the file lists and explains default configuration. You could learn <em>almost</em> everything you need about Nikola from the configuration file. Nevertheless, I plan to keep the <a href="https://getnikola.com/documentation.html">documentation</a> handy.</p>
<h3 id="local-development">Local Development</h3>
<p>Nikola includes a built-in server to check your site locally. We have no content yet, but let’s take a look anyways.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ nikola auto --browser
[2020-01-04T17:51:45Z] INFO: serve: Serving on http://127.0.0.1:8000/ ...
[2020-01-04T17:51:45Z] INFO: serve: Opening http://127.0.0.1:8000/ in the default web browser...</code></pre>
</figure><p>The <code>auto</code> command instructs Nikola to serve your site, refreshing whenever you save a change. With the <code>--browser</code> flag, it also opens a new browser tab to your development site.</p>
<blockquote>
<p><strong>NOTE</strong></p>
<p>Unless you’re in tmux, in which case it depends on how your desktop and tmux are configured. I had to run <code>nikola auto --browser</code> from a separate terminal tab in Linux Cinnamon to get the browser action. I’ll look up how to fix that eventually.</p>
</blockquote>
<p><code>http://127.0.0.1:8000</code> shows a basically empty front page. Nikola filled in the templates for the default theme with values from <code>conf.py</code>.</p>
<p><figure>
    <img src="/attachments/img/2020/01-empty-site.png" title="The empty site" alt="screenshot of site header and footer"/><figcaption>The empty site</figcaption></figure></p>
<p>Each of the &ldquo;Archive,&rdquo; &ldquo;Tags,&rdquo; and &ldquo;RSS Feed&rdquo; links lead to summary pages with nothing listed. Since I have no content for Nikola to summarize yet, that makes sense.</p>
<p>Following the &ldquo;Random Geekery&rdquo; link at the top takes me to the live site. I consider this incorrect behavior. We want to see how the development site works, not the live site.</p>
<p>We can probably fix that in theme templates or with an option, but for the moment let’s just update <code>config.py</code>.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">SITE_URL</span> <span class="o">=</span> <span class="s2">&#34;/&#34;</span></span></span></code></pre>
</figure><p>And now the site title header links to the front page. Perfect for today.</p>
<p>Let’s start blogging!</p>
<h2 id="blogging-with-nikola">Blogging with Nikola</h2>
<p>Nikola supports an overwhelming number of options, especially when you start looking at plugins. That works great for someone like me. I constantly get new ideas not quite covered by the expected workflow, regardless of what that flow is.</p>
<p>Of course, &ldquo;an overwhelming number of options&rsquo; is not the same as &ldquo;unopinionated.&rdquo; Unopinionated tools expect you to create your own workflow — or copy someone else’s. Despite its many options, Nikola includes a default workflow.</p>
<h3 id="writing-a-blog-post">Writing a blog post</h3>
<p>The <code>new_post</code> command asks you for a title and uses that to create a file from your settings.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ nikola new_post
Creating New Post
-----------------

Title: Trying Out Nikola
Scanning posts........done!
[2020-01-04T20:39:06Z] INFO: new_post: Your post&#39;s text is at: posts/trying-out-nikola.rst</code></pre>
</figure><p>Fire up an editor — or do it automatically with <code>nikola new_post -e</code> — and add something!</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-rst" data-lang="rst"><span class="line"><span class="cl"><span class="cp">.. title: Trying Out Nikola</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. slug: trying-out-nikola</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. date: 2020-01-04 12:39:06 UTC-08:00</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. tags: nikola</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. category:</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. link:</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. description:</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="cp">.. type: text
</span></span></span><span class="line"><span class="cl"><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>I can&#39;t think of anything to write here.<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>How about some filler with Perl and Text::Lorem?<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="p">..</span> <span class="ow">code</span><span class="p">::</span> <span class="k">vim</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    :<span class="nx">r</span> <span class="p">!</span><span class="nx">perl</span> <span class="p">-</span><span class="nx">mText</span>::<span class="nx">Lorem</span> <span class="p">-</span><span class="nx">E</span> <span class="s1">&#39;say Text::Lorem-&gt;new-&gt;paragraphs(3)&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">...</span></span></span></code></pre>
</figure><p>Unless you configure it differently, Nikola uses <a href="/card/restructuredtext/">card/reStructuredText</a> for new posts.
RestructuredText, or ReST, is a formatting language similar in spirit to <a href="/card/markdown/">card/Markdown</a>. The syntax looks different, but they share a purpose: simplified writing compared to HTML for everything. And of course Markdown is supported for those who prefer it.</p>
<p>Nikola reads our post’s metadata from ReST comments at the front of the file. I know I will miss something important if I tried summarizing it. Let’s just link to Nikola’s own <a href="https://getnikola.com/handbook.html#metadata-fields">metadata documentation</a>.</p>
<p>What does the site look like now that it has a post?</p>
<p><figure>
    <img src="/attachments/img/2020/02-index-with-post.png" title="Index page with one post" alt="screenshot of page with post content"/><figcaption>Index page with one post</figcaption></figure></p>
<p>This theme shows post content. I prefer showing a quick summary of posts on the front page.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Show teasers (instead of full posts) in indexes? Defaults to False.</span>
</span></span><span class="line"><span class="cl"><span class="n">INDEX_TEASERS</span> <span class="o">=</span> <span class="kc">True</span></span></span></code></pre>
</figure><p>And a comment in the post to show where the cutoff point is:</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-rst" data-lang="rst"><span class="line"><span class="cl"><span class="cp">.. TEASER_END
</span></span></span><span class="line"><span class="cl"><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>Delectus ut aut ea et dolore autem. Sint nihil sapiente voluptate id aut quo impedit. Aut<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>numquam delectus pariatur non accusantium. Aperiam aspernatur nemo sequi in est. Expedita</span></span></code></pre>
</figure><p><figure>
    <img src="/attachments/img/2020/index-with-teaser.png" title="Index page with teaser" alt="screenshot with truncated post content"/><figcaption>Index page with teaser</figcaption></figure></p>
<p>Now the index has a summary and the main content is on the post page.
The tag rests at the bottom, and a source link sits with the headline.</p>
<p><figure>
    <img src="/attachments/img/2020/03-post.png" title="The post itself" alt="screenshot with post content with metadata"/><figcaption>The post itself</figcaption></figure></p>
<p>What about that &ldquo;Source&rdquo; link? Nikola lets you download the ReST source of a post. Neat, but not a feature I care about.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Copy the source files for your pages?</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Setting it to False implies SHOW_SOURCELINK = False</span>
</span></span><span class="line"><span class="cl"><span class="n">COPY_SOURCES</span> <span class="o">=</span> <span class="kc">False</span></span></span></code></pre>
</figure><p>Okay I need to stop. I intended to focus on the default Nikola flow. But here I am poking at <code>config.py</code>. Oh well. I gotta be me.</p>
<p>But still let’s move on.</p>
<p>The Archive, Tags, and RSS Feed links work, listing posts as expected. The lists aren’t very interesting with only one post though. I’ll see what I can come up with for next time. Oh and I’m not sure I can properly describe how excited I am that Archive automatically generates pages for years. I didn’t have to make a special-purpose taxonomy or anything!</p>
<h2 id="adding-pages">Adding Pages</h2>
<p>Anyways. Blogging is good, but a site needs more than blog posts. Let’s use <code>nikola new_post -p</code> to create a page instead of a post.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ nikola new_post -p
Creating New Page
-----------------

Title: Now
Scanning posts........done!
[2020-01-05T09:37:40Z] INFO: new_page: Your page&#39;s text is at: pages/now.rst</code></pre>
</figure><p>Everybody could use a <a href="/now/">now</a> page. Excuse me a moment while I edit <code>pages/now.rst</code>. Oh! Since it’s not a post, it won’t show up unless we link to it. The <code>/now</code> page is significant enough that it should go on the site menu.</p>
<p>Back over to <code>config.py</code>:</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">NAVIGATION_LINKS</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s2">&#34;/pages/now/&#34;</span><span class="p">,</span> <span class="s2">&#34;Now&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s2">&#34;/archive.html&#34;</span><span class="p">,</span> <span class="s2">&#34;Archive&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s2">&#34;/categories/&#34;</span><span class="p">,</span> <span class="s2">&#34;Tags&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="s2">&#34;/rss.xml&#34;</span><span class="p">,</span> <span class="s2">&#34;RSS feed&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre>
</figure><p><figure>
    <img src="/attachments/img/2020/now.png" title="The Now page" alt="screenshot of /now page"/><figcaption>The Now page</figcaption></figure></p>
<h2 id="whats-left">What’s left?</h2>
<p>If this was a really real site, we would build and deploy.</p>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >$ nikola build
$ nikola deploy</code></pre>
</figure><p>Nikola has a <code>deploy</code> command? Well sure! You can configure multiple <a href="https://getnikola.com/handbook.html#deployment">deployment</a> options. <a href="https://rsync.samba.org/">rsync</a> — my favorite — even gets highlighted in the commented example.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># DEPLOY_COMMANDS = {</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &#39;default&#39;: [</span>
</span></span><span class="line"><span class="cl"><span class="c1">#         &#34;rsync -rav --delete output/ joe@my.site:/srv/www/site&#34;,</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     ]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># }</span></span></span></code></pre>
</figure><p>But I’m leaving that section of <code>config.py</code> alone for now.</p>
<p>This was fun! Will I replace Hugo with Nikola? I don’t know yet. I’d have to try importing and building the current site.</p>
<p>That sounds like a project for another day.</p>

  






  <hr>
  

  
  
<hr>
<div class="footer">
    
    
      <a class="previous-post" href="https://randomgeekery.org/post/2020/01/noncommercial-only-licenses-are-hard/?ref=footer">
        <span style="font-weight:bold;">« Previous</span>
        <br>Noncommercial-only licenses are hard
      </a>
    
    
      <div class="next-post">
        <a href="https://randomgeekery.org/post/2020/01/eleventy-010-is-out-and-i-am-distracted-again/?ref=footer">
          <span style="font-weight:bold;">Next »</span>
          <br>Eleventy 0.10.0 is out and I am distracted again
        </a>
      </div>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#initialize-the-site">Initialize the site</a>
      <ul>
        <li><a href="#local-development">Local Development</a></li>
      </ul>
    </li>
    <li><a href="#blogging-with-nikola">Blogging with Nikola</a>
      <ul>
        <li><a href="#writing-a-blog-post">Writing a blog post</a></li>
      </ul>
    </li>
    <li><a href="#adding-pages">Adding Pages</a></li>
    <li><a href="#whats-left">What’s left?</a></li>
  </ul>
</nav>
    </div>
</div>

  

        </div><script defer data-domain="randomgeekery.org" src="https://plausible.io/js/script.js"></script>
    </body>
</html>
