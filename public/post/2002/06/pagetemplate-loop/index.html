<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.60856f0f2ed73fb3cd2820ee548c4698ffbc4d743736e852c0e27ce4f52dfd9c.js"></script>






    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=/favicon.png>

    
    





  





  
  
  

<meta property="og:url" content="https://randomgeekery.org/post/2002/06/pagetemplate-loop/">
<meta property="og:title" content="PageTemplate - Loop">
<meta name="twitter:title" content="PageTemplate - Loop">


  <meta name="twitter:site" content="@brianwisti">



  
    <meta name="twitter:description" content="Loop Basics The loop directive is the most complex, and requires more explanation of its details. Let’s start by just looking at the basic syntax of a loop in PageTemplate.
Loop Use the loop directive when you want PageTempate to insert the same chunk repeatedly for a list of items. It can grab values from the item to be inserted in value directives within the chunk. If there is no list of items, the in chunk is skipped.">
    <meta property="og:description" content="Loop Basics The loop directive is the most complex, and requires more explanation of its details. Let’s start by just looking at the basic syntax of a loop in PageTemplate.
Loop Use the loop directive when you want PageTempate to insert the same chunk repeatedly for a list of items. It can grab values from the item to be inserted in value directives within the chunk. If there is no list of items, the in chunk is skipped.">
  



<title itemprop="name">PageTemplate - Loop - Random Geekery</title>
<meta property="og:title" content=PageTemplate&#32;-&#32;Loop&#32;-&#32;Random&#32;Geekery />
<meta name="twitter:title" content=PageTemplate&#32;-&#32;Loop&#32;-&#32;Random&#32;Geekery />
<meta itemprop="name" content=PageTemplate&#32;-&#32;Loop&#32;-&#32;Random&#32;Geekery />
<meta name="application-name" content=PageTemplate&#32;-&#32;Loop&#32;-&#32;Random&#32;Geekery />
<meta property="og:site_name" content="Random Geekery" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://randomgeekery.org/post/2002/06/pagetemplate-loop/" />
<link rel="canonical" href="https://randomgeekery.org/post/2002/06/pagetemplate-loop/" itemprop="url" />
<meta name="url" content="https://randomgeekery.org/post/2002/06/pagetemplate-loop/" />
<meta name="twitter:url" content="https://randomgeekery.org/post/2002/06/pagetemplate-loop/" />
<meta property="og:url" content="https://randomgeekery.org/post/2002/06/pagetemplate-loop/" />


<meta property="og:updated_time" content=2006-02-12T60:00:02-0700 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://randomgeekery.org/sitemap.xml' />

  <link
      rel="alternate"
      type="application/rss+xml"
    
        href="/index.xml"
    
      title="Random Geekery"/>



<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Random Geekery" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.121.2">


    
    

<link
    rel="stylesheet"
    href="/css/style.fe9735814e6394fb590ff4fd2eb036a13152e6808ad90dd06ba181d89087b5d3.css"
    integrity="sha256-/pc1gU5jlPtZD/T9LrA2oTFS5oCK2Q3Qa6GB2JCHtdM=" 
    crossorigin="anonymous">


</head>

    <body class="">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://randomgeekery.org">
                <h1>Random Geekery</h1>
            </a>
        
    </h1>
    <p class="lead">
    Collecting my attempts to improve at tech, art, and life
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">
      
        <li class="bullet">
          <a href="/follow/">Follow</a>
        </li>
      
        <li class="bullet">
          <a href="/now/">Now</a>
        </li>
      
    </ul>
</nav>

        
  <div class="related">
    <div class="related-posts">
      <h3>Related</h3>
      <ul>
        
          <li><a href="/post/2002/07/pagetemplate-getting-it/">PageTemplate - Getting It</a></li>
        
          <li><a href="/post/2002/06/pagetemplate/">PageTemplate</a></li>
        
          <li><a href="/post/2002/06/pagetempalte-if-else-and-elsif/">PageTemplate - If, Else, and Elsif</a></li>
        
          <li><a href="/post/2002/06/pagetemplate-other-features/">PageTemplate - Other Features</a></li>
        
          <li><a href="/post/2002/06/pagetemplate-the-designers-perspective/">PageTemplate - The Designer&#39;s Perspective</a></li>
        
      </ul>
    </div>
  </div>



        
















        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Brian Wisti. All rights reserved.
</p>
<p class="footnote">
  This work is licensed under a
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License
  </a>.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <nav class="masthead">
    <ul>
    
  
    
  
    
  
    
  

    <li><a href="https://randomgeekery.org/">Random Geekery</a></li>
  

    <li><a href="https://randomgeekery.org/post/">Posts</a></li>
  

    <li><a href="https://randomgeekery.org/post/2002/">2002</a></li>
  

    <li><a class="active" href="https://randomgeekery.org/post/2002/06/pagetemplate-loop/">PageTemplate - Loop</a></li>
</nav>



  <div class="info">
    <h1 class="post-title">
        <a href="https://randomgeekery.org/post/2002/06/pagetemplate-loop/">PageTemplate - Loop</a>
    </h1>
    
        <time datetime="2002-06-02T00:00:00-0700" class="post-date">
            June 2, 2002
        </time>
    
    
    <ul class="tags">
        
        <li class="tag-pagetemplate">
            <a href="https://randomgeekery.org/tags/pagetemplate">pagetemplate</a>
        </li>
        
        <li class="tag-coolnamehere">
            <a href="https://randomgeekery.org/tags/coolnamehere">coolnamehere</a>
        </li>
        
    </ul>
    
    
    
    
    
    
</div>

  <h2 id="loop-basics">Loop Basics</h2>
<p>The <code>loop</code> directive is the most complex, and requires more explanation
of its details. Let’s start by just looking at the basic syntax of a
loop in PageTemplate.</p>
<h3 id="loop">Loop</h3>
<p>Use the <code>loop</code> directive when you want PageTempate to insert the same
chunk repeatedly for a list of items. It can grab values from the item
to be inserted in <code>value</code> directives within the chunk. If there is no
list of items, the <code>in</code> chunk is skipped.</p>
<h4 id="syntax">Syntax</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop LIST %]
</span></span><span class="line"><span class="cl">  Value: [%var value %]
</span></span><span class="line"><span class="cl">[%end loop %]</span></span></code></pre>
</figure><p>Way back when, <code>loop</code> started as <code>in</code>. It seemed like the natural way of
looking at each item in a list back in the misty days of 2002. However,
the steadily increasing power of <code>in</code> combined with a few suggestions
led to the addition of <code>loop</code> as a directive for loops. Makes sense. I
even use it myself most of the time. Still, I hate it when documented
features disappear without warning, so <code>in</code> was never removed. Here’s
what <code>in</code> looks like.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%in LIST %]
</span></span><span class="line"><span class="cl">  Value: [%var value %]
</span></span><span class="line"><span class="cl">[%end in %]</span></span></code></pre>
</figure><p><code>in</code> and <code>loop</code> both describe the same directive, so there is no
difference in usage beyond a couple characters’ worth of typing.</p>
<h4 id="example">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%loop books %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>&#34;[%var title %]&#34; by [%var author %]<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></span></span></code></pre>
</figure><h3 id="local-values">“Local” Values</h3>
<p>PageTemplate works a little magic with <code>value</code> directives when stepping
through a <code>loop</code>. First it examines the list item to see if it has a
value for the variable named. If it can’t find one there, it checks its
main variable listing and tries to insert that. If it can’t find a value
in the main variable listing, it inserts nothing for that <code>value</code>
directive.</p>
<p>This logic works for nested lists, too. If you have a <code>loop</code> directive
embedded in another <code>loop</code> directive - say, a list of books written by
each one of a list of your favorite authors - PageTemplate first looks
in the innermost list (the books) for a name, then the next list out
(the authors), and finally the main variable listing.</p>
<h3 id="empty">Empty</h3>
<p>Similar to the <code>else</code> directive for <a href="/post/2002/06/pagetemplate-if-else-and-elsif/"><code>if</code> blocks</a>, the <code>empty</code>
directive provides a block of content to display if the list you are looking at
is empty.</p>
<h4 id="syntax-1">Syntax</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop LIST %]
</span></span><span class="line"><span class="cl">  handle list items
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl">  handle empty list
</span></span><span class="line"><span class="cl">[%end loop %]</span></span></code></pre>
</figure><h4 id="example-1">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%loop books %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>&#34;[%var title %]&#34; by [%var author %]<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%empty %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>There are no books to display<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></span></span></code></pre>
</figure><p>{{&lt; note title=&ldquo;Alternate <code>no</code> syntax&rdquo; &gt;}}
This is another idea that seemed good at the time. Back when all you had
for loops was the <code>in</code> directive, we used <code>no</code> as the directive for
empty loops. It’s still available, but I highly discourage using it.
<code>no</code> just isn’t as clear in its intent as <code>empty</code>. But hey, I’m not
going to stop you if that’s what you really want to do.</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%in LIST %]
</span></span><span class="line"><span class="cl">  Handle list item
</span></span><span class="line"><span class="cl">[%no %]
</span></span><span class="line"><span class="cl">  Handle empty list
</span></span><span class="line"><span class="cl">[%end in %]</span></span></code></pre>
</figure><p>{{&lt; /note &gt;}}</p>
<h2 id="iterators">Iterators</h2>
<p>You are normally dealing with a hidden unnamed <code>this_step</code> variable in
loops. Most of the time this is no problem, but sometimes your template
would be clearer if you could just hand a name to that hidden variable
and access its traits instead of letting your value directives fling
wildly off into space. Maybe you want to access a global value that has
the same name as a loop value. Iterators provide you with a main spot to
access loop values without interfering with your ability to access
global values.</p>
<h3 id="basic-iterators">Basic Iterators</h3>
<p>Basic iterators provide an explicit name for your loop variable.</p>
<h4 id="syntax-2">Syntax</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop LIST ITERATOR %]
</span></span><span class="line"><span class="cl">... [%var iterator.trait %]
</span></span><span class="line"><span class="cl">[%end loop %]</span></span></code></pre>
</figure><h4 id="example-2">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%loop books book %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>&#34;[%var book.title %]&#34; by [%var book.author %]<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%empty %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>No books to list<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span></span></span></code></pre>
</figure><h3 id="multiple-iterators">Multiple Iterators</h3>
<p>It’s usually easy enough to handle loops. You just step through and use
the variable names you’ve been given by the programmer. It’s not always
that easy. Sometimes you get complex lists with no convenient names
attached to them. For example, maybe you don’t get a list of books with
convenient labels for title and author. Maybe each item in your list is
<em>another</em> list where the first item is a title and the second item is
the author’s name. Hey, don’t blame me. I didn’t write that code.</p>
<p>Multiple iterators provide a way for you to make sense out of a
confusing situation like that.</p>
<h4 id="syntax-3">Syntax</h4>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >[%loop LIST ITERATOR_1 ITERATor_2 ... iterator_n %]
  Handle list items
[%end loop %]</code></pre>
</figure><h4 id="example-3">Example</h4>
<figure class="highlight">
  <pre tabindex="0"
    ><code class="language-" data-lang=""
      >#!html
&lt;ul&gt;
[%loop books title author %]
  &lt;li&gt;&#34;[%var title]&#34; by [%var author%]&lt;/li&gt;
[%empty %]
  &lt;li&gt;No books to list&lt;/li&gt;
[%end loop%]
&lt;/ul&gt;</code></pre>
</figure><h2 id="metavariables">Metavariables</h2>
<p>Metavariables are a really snazzy addition to <code>loop</code> which make
formatting and organizing list displays much easier, without any work by
you or the programmers.</p>
<h3 id="first"><code>FIRST</code></h3>
<p>True if you are on the first trip through the loop.</p>
<h4 id="example-4">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%loop books title author%]
</span></span><span class="line"><span class="cl">[%if __FIRST__ %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var title %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var author %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>There are no books in the list<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span></span></span></code></pre>
</figure><h3 id="last"><code>LAST</code></h3>
<p>True if you are on the last trip through the loop.</p>
<h4 id="example-5">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop books title author%]
</span></span><span class="line"><span class="cl">[%if __FIRST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var title %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var author %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%if __LAST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>There are no books in the list.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span></span></span></code></pre>
</figure><h3 id="odd"><code>ODD</code></h3>
<p>True if you are on an odd-numbered trip through the loop (the first trip
is odd).</p>
<h4 id="example-6">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop books title author%]
</span></span><span class="line"><span class="cl">[%if __FIRST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%if __ODD__ %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;odd&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%else%]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;even&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var title %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var author %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%if __LAST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>There are no books in the list.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]</span></span></code></pre>
</figure><h3 id="index"><code>INDEX</code></h3>
<p>Counts the number of trips you’ve made through the loop (starts at
zero).</p>
<h4 id="example-7">Example</h4>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop books title author%]
</span></span><span class="line"><span class="cl">[%if __FIRST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%if __ODD__ %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;odd&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%else%]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;even&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/books/view/[%var __INDEX__ %]&#34;</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var title %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var author %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%if __LAST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>There are no books in the list.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]</span></span></code></pre>
</figure><h4 id="lists-and-wysiwyg-editors">Lists and WYSIWYG Editors</h4>
<p>Here’s a specific problem that might pop up when you are using a WYSIWYG
editor. Let’s say you’re embedding a list into a table, so that each
item in the list gets one table row. Dreamweaver is probably not going
to enjoy code like this:</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl">[%loop books title author%]
</span></span><span class="line"><span class="cl">[%if __FIRST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%if __ODD__ %]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;odd&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%else%]
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;even&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/books/view/[%var __INDEX__ %]&#34;</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var title %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>[%var author %]<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%if __LAST__ %]
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end if %]
</span></span><span class="line"><span class="cl">[%empty%]
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>There are no books in the list.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">[%end loop%]</span></span></code></pre>
</figure><p>The problem is that the <code>end</code>, <code>else</code>, and <code>if</code> directives are at
invalid locations for XHTML, and they may not be allowed by your editor.</p>
<p>It turns out that the solution is simple, though maybe a little awkward.
Wrap the offending directives in HTML comments, like this example shows:</p>
<figure class="highlight">
  <pre tabindex="0" class="chroma"
    ><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- [%loop books title author%] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%if __FIRST__ %] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;booklist&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Author<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%end if %] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%if __ODD__ %] --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;odd&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%else%] --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;even&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%end if %] --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/books/view/&lt;!-- [%var __INDEX__ %] --&gt;&#34;</span><span class="p">&gt;</span>View<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="c">&lt;!-- [%var title %] --&gt;</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span><span class="c">&lt;!-- [%var author %] --&gt;</span><span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%if __LAST__ %] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%end if %] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%empty%] --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>There are no books in the list.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- [%end loop%] --&gt;</span></span></span></code></pre>
</figure><p>Your fancy editor should be able to handle this, and PageTemplate should
be able to understand it just fine. The only side effect is that you
will have some empty comments in your final page.</p>
<p>The other solution is to use {{&lt; tag &ldquo;vim&rdquo;&gt;}}, {{&lt; tag &ldquo;emacs&rdquo; &gt;}}, or some
other effective non-WYSIWYG editor. Personal preference, of course. I know that
Dreamweaver costs good money, and you aren’t going to toss it aside just
because I say so. Hopefully this workaround will suit your needs.</p>

  






  <hr>
  

  
  
<hr>
<div class="footer">
    
    
      <a class="previous-post" href="https://randomgeekery.org/post/2002/06/pagetemplate-other-features/?ref=footer">
        <span style="font-weight:bold;">« Previous</span>
        <br>PageTemplate - Other Features
      </a>
    
    
      <div class="next-post">
        <a href="https://randomgeekery.org/post/2002/06/pagetempalte-if-else-and-elsif/?ref=footer">
          <span style="font-weight:bold;">Next »</span>
          <br>PageTemplate - If, Else, and Elsif
        </a>
      </div>
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#loop-basics">Loop Basics</a>
      <ul>
        <li><a href="#loop">Loop</a></li>
        <li><a href="#local-values">“Local” Values</a></li>
        <li><a href="#empty">Empty</a></li>
      </ul>
    </li>
    <li><a href="#iterators">Iterators</a>
      <ul>
        <li><a href="#basic-iterators">Basic Iterators</a></li>
        <li><a href="#multiple-iterators">Multiple Iterators</a></li>
      </ul>
    </li>
    <li><a href="#metavariables">Metavariables</a>
      <ul>
        <li><a href="#first"><code>FIRST</code></a></li>
        <li><a href="#last"><code>LAST</code></a></li>
        <li><a href="#odd"><code>ODD</code></a></li>
        <li><a href="#index"><code>INDEX</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

  

        </div><script defer data-domain="randomgeekery.org" src="https://plausible.io/js/script.js"></script>
    </body>
</html>
